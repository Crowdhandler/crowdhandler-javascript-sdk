/**
 * CrowdHandler JavaScript SDK v2.1.3
 * (c) 2025 CrowdHandler
 * @license ISC
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).crowdhandler={})}(this,(function(exports){"use strict";var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!="object"?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var runtime={exports:{}},hasRequiredRuntime;function requireRuntime(){return hasRequiredRuntime||(hasRequiredRuntime=1,function(e){var t=function(e){var t,r=Object.prototype,o=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},n=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var s=t&&t.prototype instanceof y?t:y,n=Object.create(s.prototype),a=new w(o||[]);return i(n,"_invoke",{value:S(e,r,a)}),n}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p="suspendedStart",h="suspendedYield",f="executing",g="completed",m={};function y(){}function v(){}function b(){}var _={};d(_,n,(function(){return this}));var C=Object.getPrototypeOf,T=C&&C(C(P([])));T&&T!==r&&o.call(T,n)&&(_=T);var E=b.prototype=y.prototype=Object.create(_);function k(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function r(i,s,n,a){var u=l(e[i],e,s);if("throw"!==u.type){var d=u.arg,c=d.value;return c&&"object"==typeof c&&o.call(c,"__await")?t.resolve(c.__await).then((function(e){r("next",e,n,a)}),(function(e){r("throw",e,n,a)})):t.resolve(c).then((function(e){d.value=e,n(d)}),(function(e){return r("throw",e,n,a)}))}a(u.arg)}var s;i(this,"_invoke",{value:function(e,o){function i(){return new t((function(t,i){r(e,o,t,i)}))}return s=s?s.then(i,i):i()}})}function S(e,r,o){var i=p;return function(s,n){if(i===f)throw new Error("Generator is already running");if(i===g){if("throw"===s)throw n;return{value:t,done:!0}}for(o.method=s,o.arg=n;;){var a=o.delegate;if(a){var u=R(a,o);if(u){if(u===m)continue;return u}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===p)throw i=g,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=f;var d=l(e,r,o);if("normal"===d.type){if(i=o.done?g:h,d.arg===m)continue;return{value:d.arg,done:o.done}}"throw"===d.type&&(i=g,o.method="throw",o.arg=d.arg)}}}function R(e,r){var o=r.method,i=e.iterator[o];if(i===t)return r.delegate=null,"throw"===o&&e.iterator.return&&(r.method="return",r.arg=t,R(e,r),"throw"===r.method)||"return"!==o&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+o+"' method")),m;var s=l(i,e.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,m;var n=s.arg;return n?n.done?(r[e.resultName]=n.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):n:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function Z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(Z,this),this.reset(!0)}function P(e){if(null!=e){var r=e[n];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function r(){for(;++i<e.length;)if(o.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}throw new TypeError(typeof e+" is not iterable")}return v.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:v,configurable:!0}),v.displayName=d(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,d(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},k(I.prototype),d(I.prototype,a,(function(){return this})),e.AsyncIterator=I,e.async=function(t,r,o,i,s){void 0===s&&(s=Promise);var n=new I(c(t,r,o,i),s);return e.isGeneratorFunction(r)?n:n.next().then((function(e){return e.done?e.value:n.next()}))},k(E),d(E,u,"Generator"),d(E,n,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var o in t)r.push(o);return r.reverse(),function e(){for(;r.length;){var o=r.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=P,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(x),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(o,i){return a.type="throw",a.arg=e,r.next=o,i&&(r.method="next",r.arg=t),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var n=this.tryEntries[s],a=n.completion;if("root"===n.tryLoc)return i("end");if(n.tryLoc<=this.prev){var u=o.call(n,"catchLoc"),d=o.call(n,"finallyLoc");if(u&&d){if(this.prev<n.catchLoc)return i(n.catchLoc,!0);if(this.prev<n.finallyLoc)return i(n.finallyLoc)}else if(u){if(this.prev<n.catchLoc)return i(n.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return i(n.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var n=s?s.completion:{};return n.type=e,n.arg=t,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(n)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var o=r.completion;if("throw"===o.type){var i=o.arg;x(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,o){return this.delegate={iterator:P(e),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}(runtime)),runtime.exports}runtime.exports,requireRuntime();
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */
var extendStatics=function(e,t){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},extendStatics(e,t)};function __extends(e,t){function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var __assign=function(){return __assign=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},__assign.apply(this,arguments)};function __awaiter(e,t,r,o){return new(r||(r=Promise))((function(i,s){function n(e){try{u(o.next(e))}catch(e){s(e)}}function a(e){try{u(o.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(n,a)}u((o=o.apply(e,t||[])).next())}))}function __generator(e,t){var r,o,i,s,n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=2&s[0]?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,o=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){n=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){n.label=s[1];break}if(6===s[0]&&n.label<i[1]){n.label=i[1],i=s;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(s);break}i[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],o=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}var axios$2={exports:{}},axios$1=axios$2.exports,hasRequiredAxios;function requireAxios(){return hasRequiredAxios||(hasRequiredAxios=1,function(e){var t;t=function(){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(o,i,function(t){return e[t]}.bind(null,i));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./index.js")}({"./index.js":
/*!******************!*\
			  !*** ./index.js ***!
			  \******************/
/*! no static exports found */function(e,t,r){e.exports=r(/*! ./lib/axios */"./lib/axios.js")},"./lib/adapters/xhr.js":
/*!*****************************!*\
			  !*** ./lib/adapters/xhr.js ***!
			  \*****************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ./../utils */"./lib/utils.js"),i=r(/*! ./../core/settle */"./lib/core/settle.js"),s=r(/*! ./../helpers/cookies */"./lib/helpers/cookies.js"),n=r(/*! ./../helpers/buildURL */"./lib/helpers/buildURL.js"),a=r(/*! ../core/buildFullPath */"./lib/core/buildFullPath.js"),u=r(/*! ./../helpers/parseHeaders */"./lib/helpers/parseHeaders.js"),d=r(/*! ./../helpers/isURLSameOrigin */"./lib/helpers/isURLSameOrigin.js"),c=r(/*! ../defaults/transitional */"./lib/defaults/transitional.js"),l=r(/*! ../core/AxiosError */"./lib/core/AxiosError.js"),p=r(/*! ../cancel/CanceledError */"./lib/cancel/CanceledError.js"),h=r(/*! ../helpers/parseProtocol */"./lib/helpers/parseProtocol.js");e.exports=function(e){return new Promise((function(t,r){var f,g=e.data,m=e.headers,y=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}o.isFormData(g)&&o.isStandardBrowserEnv()&&delete m["Content-Type"];var b=new XMLHttpRequest;if(e.auth){var _=e.auth.username||"",C=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(_+":"+C)}var T=a(e.baseURL,e.url);function E(){if(b){var o="getAllResponseHeaders"in b?u(b.getAllResponseHeaders()):null,s={data:y&&"text"!==y&&"json"!==y?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:o,config:e,request:b};i((function(e){t(e),v()}),(function(e){r(e),v()}),s),b=null}}if(b.open(e.method.toUpperCase(),n(T,e.params,e.paramsSerializer),!0),b.timeout=e.timeout,"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(E)},b.onabort=function(){b&&(r(new l("Request aborted",l.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new l("Network Error",l.ERR_NETWORK,e,b,b)),b=null},b.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",o=e.transitional||c;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new l(t,o.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,e,b)),b=null},o.isStandardBrowserEnv()){var k=(e.withCredentials||d(T))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;k&&(m[e.xsrfHeaderName]=k)}"setRequestHeader"in b&&o.forEach(m,(function(e,t){void 0===g&&"content-type"===t.toLowerCase()?delete m[t]:b.setRequestHeader(t,e)})),o.isUndefined(e.withCredentials)||(b.withCredentials=!!e.withCredentials),y&&"json"!==y&&(b.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&b.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){b&&(r(!e||e&&e.type?new p:e),b.abort(),b=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),g||(g=null);var I=h(T);I&&-1===["http","https","file"].indexOf(I)?r(new l("Unsupported protocol "+I+":",l.ERR_BAD_REQUEST,e)):b.send(g)}))}},"./lib/axios.js":
/*!**********************!*\
			  !*** ./lib/axios.js ***!
			  \**********************/
/*! no static exports found */function(e,t,r){var o=r(/*! ./utils */"./lib/utils.js"),i=r(/*! ./helpers/bind */"./lib/helpers/bind.js"),s=r(/*! ./core/Axios */"./lib/core/Axios.js"),n=r(/*! ./core/mergeConfig */"./lib/core/mergeConfig.js"),a=function e(t){var r=new s(t),a=i(s.prototype.request,r);return o.extend(a,s.prototype,r),o.extend(a,r),a.create=function(r){return e(n(t,r))},a}(r(/*! ./defaults */"./lib/defaults/index.js"));a.Axios=s,a.CanceledError=r(/*! ./cancel/CanceledError */"./lib/cancel/CanceledError.js"),a.CancelToken=r(/*! ./cancel/CancelToken */"./lib/cancel/CancelToken.js"),a.isCancel=r(/*! ./cancel/isCancel */"./lib/cancel/isCancel.js"),a.VERSION=r(/*! ./env/data */"./lib/env/data.js").version,a.toFormData=r(/*! ./helpers/toFormData */"./lib/helpers/toFormData.js"),a.AxiosError=r(/*! ../lib/core/AxiosError */"./lib/core/AxiosError.js"),a.Cancel=a.CanceledError,a.all=function(e){return Promise.all(e)},a.spread=r(/*! ./helpers/spread */"./lib/helpers/spread.js"),a.isAxiosError=r(/*! ./helpers/isAxiosError */"./lib/helpers/isAxiosError.js"),e.exports=a,e.exports.default=a},"./lib/cancel/CancelToken.js":
/*!***********************************!*\
			  !*** ./lib/cancel/CancelToken.js ***!
			  \***********************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ./CanceledError */"./lib/cancel/CanceledError.js");function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,o=r._listeners.length;for(t=0;t<o;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,o=new Promise((function(e){r.subscribe(e),t=e})).then(e);return o.cancel=function(){r.unsubscribe(t)},o},e((function(e){r.reason||(r.reason=new o(e),t(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},"./lib/cancel/CanceledError.js":
/*!*************************************!*\
			  !*** ./lib/cancel/CanceledError.js ***!
			  \*************************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ../core/AxiosError */"./lib/core/AxiosError.js");function i(e){o.call(this,null==e?"canceled":e,o.ERR_CANCELED),this.name="CanceledError"}r(/*! ../utils */"./lib/utils.js").inherits(i,o,{__CANCEL__:!0}),e.exports=i},"./lib/cancel/isCancel.js":
/*!********************************!*\
			  !*** ./lib/cancel/isCancel.js ***!
			  \********************************/
/*! no static exports found */function(e,t,r){e.exports=function(e){return!(!e||!e.__CANCEL__)}},"./lib/core/Axios.js":
/*!***************************!*\
			  !*** ./lib/core/Axios.js ***!
			  \***************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ./../utils */"./lib/utils.js"),i=r(/*! ../helpers/buildURL */"./lib/helpers/buildURL.js"),s=r(/*! ./InterceptorManager */"./lib/core/InterceptorManager.js"),n=r(/*! ./dispatchRequest */"./lib/core/dispatchRequest.js"),a=r(/*! ./mergeConfig */"./lib/core/mergeConfig.js"),u=r(/*! ./buildFullPath */"./lib/core/buildFullPath.js"),d=r(/*! ../helpers/validator */"./lib/helpers/validator.js"),c=d.validators;function l(e){this.defaults=e,this.interceptors={request:new s,response:new s}}l.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;void 0!==r&&d.assertOptions(r,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var o=[],i=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));var s,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var l=[n,void 0];for(Array.prototype.unshift.apply(l,o),l=l.concat(u),s=Promise.resolve(t);l.length;)s=s.then(l.shift(),l.shift());return s}for(var p=t;o.length;){var h=o.shift(),f=o.shift();try{p=h(p)}catch(e){f(e);break}}try{s=n(p)}catch(e){return Promise.reject(e)}for(;u.length;)s=s.then(u.shift(),u.shift());return s},l.prototype.getUri=function(e){e=a(this.defaults,e);var t=u(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},o.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,r){return this.request(a(r||{},{method:e,url:t,data:(r||{}).data}))}})),o.forEach(["post","put","patch"],(function(e){function t(t){return function(r,o,i){return this.request(a(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}l.prototype[e]=t(),l.prototype[e+"Form"]=t(!0)})),e.exports=l},"./lib/core/AxiosError.js":
/*!********************************!*\
			  !*** ./lib/core/AxiosError.js ***!
			  \********************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ../utils */"./lib/utils.js");function i(e,t,r,o,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),o&&(this.request=o),i&&(this.response=i)}o.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var s=i.prototype,n={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){n[e]={value:e}})),Object.defineProperties(i,n),Object.defineProperty(s,"isAxiosError",{value:!0}),i.from=function(e,t,r,n,a,u){var d=Object.create(s);return o.toFlatObject(e,d,(function(e){return e!==Error.prototype})),i.call(d,e.message,t,r,n,a),d.name=e.name,u&&Object.assign(d,u),d},e.exports=i},"./lib/core/InterceptorManager.js":
/*!****************************************!*\
			  !*** ./lib/core/InterceptorManager.js ***!
			  \****************************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ./../utils */"./lib/utils.js");function i(){this.handlers=[]}i.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){o.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},"./lib/core/buildFullPath.js":
/*!***********************************!*\
			  !*** ./lib/core/buildFullPath.js ***!
			  \***********************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ../helpers/isAbsoluteURL */"./lib/helpers/isAbsoluteURL.js"),i=r(/*! ../helpers/combineURLs */"./lib/helpers/combineURLs.js");e.exports=function(e,t){return e&&!o(t)?i(e,t):t}},"./lib/core/dispatchRequest.js":
/*!*************************************!*\
			  !*** ./lib/core/dispatchRequest.js ***!
			  \*************************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ./../utils */"./lib/utils.js"),i=r(/*! ./transformData */"./lib/core/transformData.js"),s=r(/*! ../cancel/isCancel */"./lib/cancel/isCancel.js"),n=r(/*! ../defaults */"./lib/defaults/index.js"),a=r(/*! ../cancel/CanceledError */"./lib/cancel/CanceledError.js");function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),o.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||n.adapter)(e).then((function(t){return u(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(u(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"./lib/core/mergeConfig.js":
/*!*********************************!*\
			  !*** ./lib/core/mergeConfig.js ***!
			  \*********************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ../utils */"./lib/utils.js");e.exports=function(e,t){t=t||{};var r={};function i(e,t){return o.isPlainObject(e)&&o.isPlainObject(t)?o.merge(e,t):o.isPlainObject(t)?o.merge({},t):o.isArray(t)?t.slice():t}function s(r){return o.isUndefined(t[r])?o.isUndefined(e[r])?void 0:i(void 0,e[r]):i(e[r],t[r])}function n(e){if(!o.isUndefined(t[e]))return i(void 0,t[e])}function a(r){return o.isUndefined(t[r])?o.isUndefined(e[r])?void 0:i(void 0,e[r]):i(void 0,t[r])}function u(r){return r in t?i(e[r],t[r]):r in e?i(void 0,e[r]):void 0}var d={url:n,method:n,data:n,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return o.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=d[e]||s,i=t(e);o.isUndefined(i)&&t!==u||(r[e]=i)})),r}},"./lib/core/settle.js":
/*!****************************!*\
			  !*** ./lib/core/settle.js ***!
			  \****************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ./AxiosError */"./lib/core/AxiosError.js");e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(new o("Request failed with status code "+r.status,[o.ERR_BAD_REQUEST,o.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}},"./lib/core/transformData.js":
/*!***********************************!*\
			  !*** ./lib/core/transformData.js ***!
			  \***********************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ./../utils */"./lib/utils.js"),i=r(/*! ../defaults */"./lib/defaults/index.js");e.exports=function(e,t,r){var s=this||i;return o.forEach(r,(function(r){e=r.call(s,e,t)})),e}},"./lib/defaults/index.js":
/*!*******************************!*\
			  !*** ./lib/defaults/index.js ***!
			  \*******************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ../utils */"./lib/utils.js"),i=r(/*! ../helpers/normalizeHeaderName */"./lib/helpers/normalizeHeaderName.js"),s=r(/*! ../core/AxiosError */"./lib/core/AxiosError.js"),n=r(/*! ./transitional */"./lib/defaults/transitional.js"),a=r(/*! ../helpers/toFormData */"./lib/helpers/toFormData.js"),u={"Content-Type":"application/x-www-form-urlencoded"};function d(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,l={transitional:n,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=r(/*! ../adapters/xhr */"./lib/adapters/xhr.js")),c),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e))return e;if(o.isArrayBufferView(e))return e.buffer;if(o.isURLSearchParams(e))return d(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r,s=o.isObject(e),n=t&&t["Content-Type"];if((r=o.isFileList(e))||s&&"multipart/form-data"===n){var u=this.env&&this.env.FormData;return a(r?{"files[]":e}:e,u&&new u)}return s||"application/json"===n?(d(t,"application/json"),function(e,t,r){if(o.isString(e))try{return(t||JSON.parse)(e),o.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||l.transitional,r=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,n=!r&&"json"===this.responseType;if(n||i&&o.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw s.from(e,s.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(/*! ./env/FormData */"./lib/helpers/null.js")},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};o.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),o.forEach(["post","put","patch"],(function(e){l.headers[e]=o.merge(u)})),e.exports=l},"./lib/defaults/transitional.js":
/*!**************************************!*\
			  !*** ./lib/defaults/transitional.js ***!
			  \**************************************/
/*! no static exports found */function(e,t,r){e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},"./lib/env/data.js":
/*!*************************!*\
			  !*** ./lib/env/data.js ***!
			  \*************************/
/*! no static exports found */function(e,t){e.exports={version:"0.27.2"}},"./lib/helpers/bind.js":
/*!*****************************!*\
			  !*** ./lib/helpers/bind.js ***!
			  \*****************************/
/*! no static exports found */function(e,t,r){e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];return e.apply(t,r)}}},"./lib/helpers/buildURL.js":
/*!*********************************!*\
			  !*** ./lib/helpers/buildURL.js ***!
			  \*********************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ./../utils */"./lib/utils.js");function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var s;if(r)s=r(t);else if(o.isURLSearchParams(t))s=t.toString();else{var n=[];o.forEach(t,(function(e,t){null!=e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,(function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),n.push(i(t)+"="+i(e))})))})),s=n.join("&")}if(s){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},"./lib/helpers/combineURLs.js":
/*!************************************!*\
			  !*** ./lib/helpers/combineURLs.js ***!
			  \************************************/
/*! no static exports found */function(e,t,r){e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"./lib/helpers/cookies.js":
/*!********************************!*\
			  !*** ./lib/helpers/cookies.js ***!
			  \********************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ./../utils */"./lib/utils.js");e.exports=o.isStandardBrowserEnv()?{write:function(e,t,r,i,s,n){var a=[];a.push(e+"="+encodeURIComponent(t)),o.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),o.isString(i)&&a.push("path="+i),o.isString(s)&&a.push("domain="+s),!0===n&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"./lib/helpers/isAbsoluteURL.js":
/*!**************************************!*\
			  !*** ./lib/helpers/isAbsoluteURL.js ***!
			  \**************************************/
/*! no static exports found */function(e,t,r){e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},"./lib/helpers/isAxiosError.js":
/*!*************************************!*\
			  !*** ./lib/helpers/isAxiosError.js ***!
			  \*************************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ./../utils */"./lib/utils.js");e.exports=function(e){return o.isObject(e)&&!0===e.isAxiosError}},"./lib/helpers/isURLSameOrigin.js":
/*!****************************************!*\
			  !*** ./lib/helpers/isURLSameOrigin.js ***!
			  \****************************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ./../utils */"./lib/utils.js");e.exports=o.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var o=e;return t&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=o.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},"./lib/helpers/normalizeHeaderName.js":
/*!********************************************!*\
			  !*** ./lib/helpers/normalizeHeaderName.js ***!
			  \********************************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ../utils */"./lib/utils.js");e.exports=function(e,t){o.forEach(e,(function(r,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[o])}))}},"./lib/helpers/null.js":
/*!*****************************!*\
			  !*** ./lib/helpers/null.js ***!
			  \*****************************/
/*! no static exports found */function(e,t){e.exports=null},"./lib/helpers/parseHeaders.js":
/*!*************************************!*\
			  !*** ./lib/helpers/parseHeaders.js ***!
			  \*************************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ./../utils */"./lib/utils.js"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,s,n={};return e?(o.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=o.trim(e.substr(0,s)).toLowerCase(),r=o.trim(e.substr(s+1)),t){if(n[t]&&i.indexOf(t)>=0)return;n[t]="set-cookie"===t?(n[t]?n[t]:[]).concat([r]):n[t]?n[t]+", "+r:r}})),n):n}},"./lib/helpers/parseProtocol.js":
/*!**************************************!*\
			  !*** ./lib/helpers/parseProtocol.js ***!
			  \**************************************/
/*! no static exports found */function(e,t,r){e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},"./lib/helpers/spread.js":
/*!*******************************!*\
			  !*** ./lib/helpers/spread.js ***!
			  \*******************************/
/*! no static exports found */function(e,t,r){e.exports=function(e){return function(t){return e.apply(null,t)}}},"./lib/helpers/toFormData.js":
/*!***********************************!*\
			  !*** ./lib/helpers/toFormData.js ***!
			  \***********************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ../utils */"./lib/utils.js");e.exports=function(e,t){t=t||new FormData;var r=[];function i(e){return null===e?"":o.isDate(e)?e.toISOString():o.isArrayBuffer(e)||o.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(s,n){if(o.isPlainObject(s)||o.isArray(s)){if(-1!==r.indexOf(s))throw Error("Circular reference detected in "+n);r.push(s),o.forEach(s,(function(r,s){if(!o.isUndefined(r)){var a,u=n?n+"."+s:s;if(r&&!n&&"object"==typeof r)if(o.endsWith(s,"{}"))r=JSON.stringify(r);else if(o.endsWith(s,"[]")&&(a=o.toArray(r)))return void a.forEach((function(e){!o.isUndefined(e)&&t.append(u,i(e))}));e(r,u)}})),r.pop()}else t.append(n,i(s))}(e),t}},"./lib/helpers/validator.js":
/*!**********************************!*\
			  !*** ./lib/helpers/validator.js ***!
			  \**********************************/
/*! no static exports found */function(e,t,r){var o=r(/*! ../env/data */"./lib/env/data.js").version,i=r(/*! ../core/AxiosError */"./lib/core/AxiosError.js"),s={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){s[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));var n={};s.transitional=function(e,t,r){function s(e,t){return"[Axios v"+o+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,o,a){if(!1===e)throw new i(s(o," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!n[o]&&(n[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,o,a)}},e.exports={assertOptions:function(e,t,r){if("object"!=typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var o=Object.keys(e),s=o.length;s-- >0;){var n=o[s],a=t[n];if(a){var u=e[n],d=void 0===u||a(u,n,e);if(!0!==d)throw new i("option "+n+" must be "+d,i.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new i("Unknown option "+n,i.ERR_BAD_OPTION)}},validators:s}},"./lib/utils.js":
/*!**********************!*\
			  !*** ./lib/utils.js ***!
			  \**********************/
/*! no static exports found */function(e,t,r){var o,i=r(/*! ./helpers/bind */"./lib/helpers/bind.js"),s=Object.prototype.toString,n=(o=Object.create(null),function(e){var t=s.call(e);return o[t]||(o[t]=t.slice(8,-1).toLowerCase())});function a(e){return e=e.toLowerCase(),function(t){return n(t)===e}}function u(e){return Array.isArray(e)}function d(e){return void 0===e}var c=a("ArrayBuffer");function l(e){return null!==e&&"object"==typeof e}function p(e){if("object"!==n(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var h=a("Date"),f=a("File"),g=a("Blob"),m=a("FileList");function y(e){return"[object Function]"===s.call(e)}var v=a("URLSearchParams");function b(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),u(e))for(var r=0,o=e.length;r<o;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var _,C=(_="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return _&&e instanceof _});e.exports={isArray:u,isArrayBuffer:c,isBuffer:function(e){return null!==e&&!d(e)&&null!==e.constructor&&!d(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"==typeof FormData&&e instanceof FormData||s.call(e)===t||y(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&c(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isPlainObject:p,isUndefined:d,isDate:h,isFile:f,isBlob:g,isFunction:y,isStream:function(e){return l(e)&&y(e.pipe)},isURLSearchParams:v,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof document},forEach:b,merge:function e(){var t={};function r(r,o){p(t[o])&&p(r)?t[o]=e(t[o],r):p(r)?t[o]=e({},r):u(r)?t[o]=r.slice():t[o]=r}for(var o=0,i=arguments.length;o<i;o++)b(arguments[o],r);return t},extend:function(e,t,r){return b(t,(function(t,o){e[o]=r&&"function"==typeof t?i(t,r):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,r,o){e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,r&&Object.assign(e.prototype,r)},toFlatObject:function(e,t,r){var o,i,s,n={};t=t||{};do{for(i=(o=Object.getOwnPropertyNames(e)).length;i-- >0;)n[s=o[i]]||(t[s]=e[s],n[s]=!0);e=Object.getPrototypeOf(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:n,kindOfTest:a,endsWith:function(e,t,r){e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;var o=e.indexOf(t,r);return-1!==o&&o===r},toArray:function(e){if(!e)return null;var t=e.length;if(d(t))return null;for(var r=new Array(t);t-- >0;)r[t]=e[t];return r},isTypedArray:C,isFileList:m}}})},e.exports=t()}(axios$2,axios$2.exports)),axios$2.exports}var axiosExports=requireAxios(),axios=getDefaultExportFromCjs(axiosExports),util,objectUtil;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const r of e)t[r]=r;return t},e.getValidEnumValues=t=>{const r=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),o={};for(const e of r)o[e]=t[e];return e.objectValues(o)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},e.find=(e,t)=>{for(const r of e)if(t(r))return r},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(util||(util={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(objectUtil||(objectUtil={}));const ZodParsedType=util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),getParsedType=e=>{switch(typeof e){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return isNaN(e)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(e)?ZodParsedType.array:null===e?ZodParsedType.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?ZodParsedType.promise:"undefined"!=typeof Map&&e instanceof Map?ZodParsedType.map:"undefined"!=typeof Set&&e instanceof Set?ZodParsedType.set:"undefined"!=typeof Date&&e instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),quotelessJson=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ZodError extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},r={_errors:[]},o=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(o);else if("invalid_return_type"===i.code)o(i.returnTypeError);else if("invalid_arguments"===i.code)o(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,o=0;for(;o<i.path.length;){const r=i.path[o];o===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],o++}}};return o(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},r=[];for(const o of this.issues)o.path.length>0?(t[o.path[0]]=t[o.path[0]]||[],t[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}ZodError.create=e=>new ZodError(e);const errorMap=(e,t)=>{let r;switch(e.code){case ZodIssueCode.invalid_type:r=e.received===ZodParsedType.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${util.joinValues(e.keys,", ")}`;break;case ZodIssueCode.invalid_union:r="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${util.joinValues(e.options)}`;break;case ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${util.joinValues(e.options)}, received '${e.received}'`;break;case ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case ZodIssueCode.invalid_date:r="Invalid date";break;case ZodIssueCode.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:util.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case ZodIssueCode.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case ZodIssueCode.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case ZodIssueCode.custom:r="Invalid input";break;case ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case ZodIssueCode.not_finite:r="Number must be finite";break;default:r=t.defaultError,util.assertNever(e)}return{message:r}};let overrideErrorMap=errorMap;function setErrorMap(e){overrideErrorMap=e}function getErrorMap(){return overrideErrorMap}const makeIssue=e=>{const{data:t,path:r,errorMaps:o,issueData:i}=e,s=[...r,...i.path||[]],n={...i,path:s};let a="";const u=o.filter((e=>!!e)).slice().reverse();for(const e of u)a=e(n,{data:t,defaultError:a}).message;return{...i,path:s,message:i.message||a}},EMPTY_PATH=[];function addIssueToContext(e,t){const r=makeIssue({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,getErrorMap(),errorMap].filter((e=>!!e))});e.common.issues.push(r)}class ParseStatus{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const o of t){if("aborted"===o.status)return INVALID;"dirty"===o.status&&e.dirty(),r.push(o.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const r=[];for(const e of t)r.push({key:await e.key,value:await e.value});return ParseStatus.mergeObjectSync(e,r)}static mergeObjectSync(e,t){const r={};for(const o of t){const{key:t,value:i}=o;if("aborted"===t.status)return INVALID;if("aborted"===i.status)return INVALID;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),(void 0!==i.value||o.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}const INVALID=Object.freeze({status:"aborted"}),DIRTY=e=>({status:"dirty",value:e}),OK=e=>({status:"valid",value:e}),isAborted=e=>"aborted"===e.status,isDirty=e=>"dirty"===e.status,isValid=e=>"valid"===e.status,isAsync=e=>"undefined"!=typeof Promise&&e instanceof Promise;var errorUtil;!function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(errorUtil||(errorUtil={}));class ParseInputLazyPath{constructor(e,t,r,o){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(e,t)=>{if(isValid(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new ZodError(e.common.issues);return this._error=t,this._error}}};function processCreateParams(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:o,description:i}=e;if(t&&(r||o))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:i};return{errorMap:(e,t)=>"invalid_type"!==e.code?{message:t.defaultError}:void 0===t.data?{message:null!=o?o:t.defaultError}:{message:null!=r?r:t.defaultError},description:i}}class ZodType{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return getParsedType(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:getParsedType(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(isAsync(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;const o={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},i=this._parseSync({data:e,path:o.path,parent:o});return handleResult(o,i)}async parseAsync(e,t){const r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){const r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:getParsedType(e)},o=this._parse({data:e,path:r.path,parent:r}),i=await(isAsync(o)?o:Promise.resolve(o));return handleResult(r,i)}refine(e,t){const r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,o)=>{const i=e(t),s=()=>o.addIssue({code:ZodIssueCode.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then((e=>!!e||(s(),!1))):!!i||(s(),!1)}))}refinement(e,t){return this._refinement(((r,o)=>!!e(r)||(o.addIssue("function"==typeof t?t(r,o):t),!1)))}_refinement(e){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this,this._def)}promise(){return ZodPromise.create(this,this._def)}or(e){return ZodUnion.create([this,e],this._def)}and(e){return ZodIntersection.create(this,e,this._def)}transform(e){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:t,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:t,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return ZodPipeline.create(this,e)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[a-z][a-z0-9]*$/,ulidRegex=/[0-9A-HJKMNP-TV-Z]{26}/,uuidRegex=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,emailRegex=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\])|(\[IPv6:(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))\])|([A-Za-z0-9]([A-Za-z0-9-]*[A-Za-z0-9])*(\.[A-Za-z]{2,})+))$/,emojiRegex=/^(\p{Extended_Pictographic}|\p{Emoji_Component})+$/u,ipv4Regex=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,ipv6Regex=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,datetimeRegex=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):0===e.precision?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function isValidIP(e,t){return!("v4"!==t&&t||!ipv4Regex.test(e))||!("v6"!==t&&t||!ipv6Regex.test(e))}class ZodString extends ZodType{constructor(){super(...arguments),this._regex=(e,t,r)=>this.refinement((t=>e.test(t)),{validation:t,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(r)}),this.nonempty=e=>this.min(1,errorUtil.errToObj(e)),this.trim=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]}),this.toLowerCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]}),this.toUpperCase=()=>new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==ZodParsedType.string){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:t.parsedType}),INVALID}const t=new ParseStatus;let r;for(const o of this._def.checks)if("min"===o.kind)e.data.length<o.value&&(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("max"===o.kind)e.data.length>o.value&&(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),t.dirty());else if("length"===o.kind){const i=e.data.length>o.value,s=e.data.length<o.value;(i||s)&&(r=this._getOrReturnCtx(e,r),i?addIssueToContext(r,{code:ZodIssueCode.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):s&&addIssueToContext(r,{code:ZodIssueCode.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),t.dirty())}else if("email"===o.kind)emailRegex.test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"email",code:ZodIssueCode.invalid_string,message:o.message}),t.dirty());else if("emoji"===o.kind)emojiRegex.test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"emoji",code:ZodIssueCode.invalid_string,message:o.message}),t.dirty());else if("uuid"===o.kind)uuidRegex.test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"uuid",code:ZodIssueCode.invalid_string,message:o.message}),t.dirty());else if("cuid"===o.kind)cuidRegex.test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"cuid",code:ZodIssueCode.invalid_string,message:o.message}),t.dirty());else if("cuid2"===o.kind)cuid2Regex.test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:o.message}),t.dirty());else if("ulid"===o.kind)ulidRegex.test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"ulid",code:ZodIssueCode.invalid_string,message:o.message}),t.dirty());else if("url"===o.kind)try{new URL(e.data)}catch(i){r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"url",code:ZodIssueCode.invalid_string,message:o.message}),t.dirty()}else if("regex"===o.kind){o.regex.lastIndex=0;o.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"regex",code:ZodIssueCode.invalid_string,message:o.message}),t.dirty())}else if("trim"===o.kind)e.data=e.data.trim();else if("includes"===o.kind)e.data.includes(o.value,o.position)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),t.dirty());else if("toLowerCase"===o.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===o.kind)e.data=e.data.toUpperCase();else if("startsWith"===o.kind)e.data.startsWith(o.value)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.invalid_string,validation:{startsWith:o.value},message:o.message}),t.dirty());else if("endsWith"===o.kind)e.data.endsWith(o.value)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.invalid_string,validation:{endsWith:o.value},message:o.message}),t.dirty());else if("datetime"===o.kind){datetimeRegex(o).test(e.data)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.invalid_string,validation:"datetime",message:o.message}),t.dirty())}else"ip"===o.kind?isValidIP(e.data,o.version)||(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{validation:"ip",code:ZodIssueCode.invalid_string,message:o.message}),t.dirty()):util.assertNever(o);return{status:t.value,value:e.data}}_addCheck(e){return new ZodString({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...errorUtil.errToObj(e)})}datetime(e){var t;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,...errorUtil.errToObj(null==e?void 0:e.message)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...errorUtil.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...errorUtil.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...errorUtil.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...errorUtil.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...errorUtil.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...errorUtil.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...errorUtil.errToObj(t)})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function floatSafeRemainder(e,t){const r=(e.toString().split(".")[1]||"").length,o=(t.toString().split(".")[1]||"").length,i=r>o?r:o;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}ZodString.create=e=>{var t;return new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...processCreateParams(e)})};class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==ZodParsedType.number){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:t.parsedType}),INVALID}let t;const r=new ParseStatus;for(const o of this._def.checks)if("int"===o.kind)util.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:o.message}),r.dirty());else if("min"===o.kind){(o.inclusive?e.data<o.value:e.data<=o.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),r.dirty())}else if("max"===o.kind){(o.inclusive?e.data>o.value:e.data>=o.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),r.dirty())}else"multipleOf"===o.kind?0!==floatSafeRemainder(e.data,o.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.not_multiple_of,multipleOf:o.value,message:o.message}),r.dirty()):"finite"===o.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.not_finite,message:o.message}),r.dirty()):util.assertNever(o);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,errorUtil.toString(t))}setLimit(e,t,r,o){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:errorUtil.toString(o)}]})}_addCheck(e){return new ZodNumber({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&util.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ZodNumber.create=e=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...processCreateParams(e)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){this._def.coerce&&(e.data=BigInt(e.data));if(this._getType(e)!==ZodParsedType.bigint){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:t.parsedType}),INVALID}let t;const r=new ParseStatus;for(const o of this._def.checks)if("min"===o.kind){(o.inclusive?e.data<o.value:e.data<=o.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),r.dirty())}else if("max"===o.kind){(o.inclusive?e.data>o.value:e.data>=o.value)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),r.dirty())}else"multipleOf"===o.kind?e.data%o.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),addIssueToContext(t,{code:ZodIssueCode.not_multiple_of,multipleOf:o.value,message:o.message}),r.dirty()):util.assertNever(o);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,errorUtil.toString(t))}setLimit(e,t,r,o){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:errorUtil.toString(o)}]})}_addCheck(e){return new ZodBigInt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:errorUtil.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ZodBigInt.create=e=>{var t;return new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...processCreateParams(e)})};class ZodBoolean extends ZodType{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==ZodParsedType.boolean){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:t.parsedType}),INVALID}return OK(e.data)}}ZodBoolean.create=e=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...processCreateParams(e)});class ZodDate extends ZodType{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==ZodParsedType.date){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:t.parsedType}),INVALID}if(isNaN(e.data.getTime())){return addIssueToContext(this._getOrReturnCtx(e),{code:ZodIssueCode.invalid_date}),INVALID}const t=new ParseStatus;let r;for(const o of this._def.checks)"min"===o.kind?e.data.getTime()<o.value&&(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),t.dirty()):"max"===o.kind?e.data.getTime()>o.value&&(r=this._getOrReturnCtx(e,r),addIssueToContext(r,{code:ZodIssueCode.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),t.dirty()):util.assertNever(o);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ZodDate({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:errorUtil.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}ZodDate.create=e=>new ZodDate({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(e)});class ZodSymbol extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.symbol){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:t.parsedType}),INVALID}return OK(e.data)}}ZodSymbol.create=e=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(e)});class ZodUndefined extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.undefined){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:t.parsedType}),INVALID}return OK(e.data)}}ZodUndefined.create=e=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(e)});class ZodNull extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.null){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:t.parsedType}),INVALID}return OK(e.data)}}ZodNull.create=e=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(e)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(e){return OK(e.data)}}ZodAny.create=e=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(e)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(e){return OK(e.data)}}ZodUnknown.create=e=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(e)});class ZodNever extends ZodType{_parse(e){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:t.parsedType}),INVALID}}ZodNever.create=e=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(e)});class ZodVoid extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.undefined){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:t.parsedType}),INVALID}return OK(e.data)}}ZodVoid.create=e=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(e)});class ZodArray extends ZodType{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),o=this._def;if(t.parsedType!==ZodParsedType.array)return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:t.parsedType}),INVALID;if(null!==o.exactLength){const e=t.data.length>o.exactLength.value,i=t.data.length<o.exactLength.value;(e||i)&&(addIssueToContext(t,{code:e?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:i?o.exactLength.value:void 0,maximum:e?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),r.dirty())}if(null!==o.minLength&&t.data.length<o.minLength.value&&(addIssueToContext(t,{code:ZodIssueCode.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),r.dirty()),null!==o.maxLength&&t.data.length>o.maxLength.value&&(addIssueToContext(t,{code:ZodIssueCode.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map(((e,r)=>o.type._parseAsync(new ParseInputLazyPath(t,e,t.path,r))))).then((e=>ParseStatus.mergeArray(r,e)));const i=[...t.data].map(((e,r)=>o.type._parseSync(new ParseInputLazyPath(t,e,t.path,r))));return ParseStatus.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new ZodArray({...this._def,minLength:{value:e,message:errorUtil.toString(t)}})}max(e,t){return new ZodArray({...this._def,maxLength:{value:e,message:errorUtil.toString(t)}})}length(e,t){return new ZodArray({...this._def,exactLength:{value:e,message:errorUtil.toString(t)}})}nonempty(e){return this.min(1,e)}}function deepPartialify(e){if(e instanceof ZodObject){const t={};for(const r in e.shape){const o=e.shape[r];t[r]=ZodOptional.create(deepPartialify(o))}return new ZodObject({...e._def,shape:()=>t})}return e instanceof ZodArray?new ZodArray({...e._def,type:deepPartialify(e.element)}):e instanceof ZodOptional?ZodOptional.create(deepPartialify(e.unwrap())):e instanceof ZodNullable?ZodNullable.create(deepPartialify(e.unwrap())):e instanceof ZodTuple?ZodTuple.create(e.items.map((e=>deepPartialify(e)))):e}ZodArray.create=(e,t)=>new ZodArray({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(t)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=util.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==ZodParsedType.object){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:t.parsedType}),INVALID}const{status:t,ctx:r}=this._processInputParams(e),{shape:o,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof ZodNever&&"strip"===this._def.unknownKeys))for(const e in r.data)i.includes(e)||s.push(e);const n=[];for(const e of i){const t=o[e],i=r.data[e];n.push({key:{status:"valid",value:e},value:t._parse(new ParseInputLazyPath(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof ZodNever){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of s)n.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(addIssueToContext(r,{code:ZodIssueCode.unrecognized_keys,keys:s}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of s){const o=r.data[t];n.push({key:{status:"valid",value:t},value:e._parse(new ParseInputLazyPath(r,o,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of n){const r=await t.key;e.push({key:r,value:await t.value,alwaysSet:t.alwaysSet})}return e})).then((e=>ParseStatus.mergeObjectSync(t,e))):ParseStatus.mergeObjectSync(t,n)}get shape(){return this._def.shape()}strict(e){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var o,i,s,n;const a=null!==(s=null===(i=(o=this._def).errorMap)||void 0===i?void 0:i.call(o,t,r).message)&&void 0!==s?s:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(n=errorUtil.errToObj(e).message)&&void 0!==n?n:a}:{message:a}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(e){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ZodObject({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ZodObject({...this._def,catchall:e})}pick(e){const t={};return util.objectKeys(e).forEach((r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])})),new ZodObject({...this._def,shape:()=>t})}omit(e){const t={};return util.objectKeys(this.shape).forEach((r=>{e[r]||(t[r]=this.shape[r])})),new ZodObject({...this._def,shape:()=>t})}deepPartial(){return deepPartialify(this)}partial(e){const t={};return util.objectKeys(this.shape).forEach((r=>{const o=this.shape[r];e&&!e[r]?t[r]=o:t[r]=o.optional()})),new ZodObject({...this._def,shape:()=>t})}required(e){const t={};return util.objectKeys(this.shape).forEach((r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof ZodOptional;)e=e._def.innerType;t[r]=e}})),new ZodObject({...this._def,shape:()=>t})}keyof(){return createZodEnum(util.objectKeys(this.shape))}}ZodObject.create=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)}),ZodObject.strictCreate=(e,t)=>new ZodObject({shape:()=>e,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)}),ZodObject.lazycreate=(e,t)=>new ZodObject({shape:e,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(t)});class ZodUnion extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map((async e=>{const r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const r=e.map((e=>new ZodError(e.ctx.common.issues)));return addIssueToContext(t,{code:ZodIssueCode.invalid_union,unionErrors:r}),INVALID}));{let e;const o=[];for(const i of r){const r={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&o.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=o.map((e=>new ZodError(e)));return addIssueToContext(t,{code:ZodIssueCode.invalid_union,unionErrors:i}),INVALID}}get options(){return this._def.options}}ZodUnion.create=(e,t)=>new ZodUnion({options:e,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(t)});const getDiscriminator=e=>e instanceof ZodLazy?getDiscriminator(e.schema):e instanceof ZodEffects?getDiscriminator(e.innerType()):e instanceof ZodLiteral?[e.value]:e instanceof ZodEnum?e.options:e instanceof ZodNativeEnum?Object.keys(e.enum):e instanceof ZodDefault?getDiscriminator(e._def.innerType):e instanceof ZodUndefined?[void 0]:e instanceof ZodNull?[null]:null;class ZodDiscriminatedUnion extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ZodParsedType.object)return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:t.parsedType}),INVALID;const r=this.discriminator,o=t.data[r],i=this.optionsMap.get(o);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(addIssueToContext(t,{code:ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){const o=new Map;for(const r of t){const t=getDiscriminator(r.shape[e]);if(!t)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(o.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);o.set(i,r)}}return new ZodDiscriminatedUnion({typeName:ZodFirstPartyTypeKind.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:o,...processCreateParams(r)})}}function mergeValues(e,t){const r=getParsedType(e),o=getParsedType(t);if(e===t)return{valid:!0,data:e};if(r===ZodParsedType.object&&o===ZodParsedType.object){const r=util.objectKeys(t),o=util.objectKeys(e).filter((e=>-1!==r.indexOf(e))),i={...e,...t};for(const r of o){const o=mergeValues(e[r],t[r]);if(!o.valid)return{valid:!1};i[r]=o.data}return{valid:!0,data:i}}if(r===ZodParsedType.array&&o===ZodParsedType.array){if(e.length!==t.length)return{valid:!1};const r=[];for(let o=0;o<e.length;o++){const i=mergeValues(e[o],t[o]);if(!i.valid)return{valid:!1};r.push(i.data)}return{valid:!0,data:r}}return r===ZodParsedType.date&&o===ZodParsedType.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class ZodIntersection extends ZodType{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),o=(e,o)=>{if(isAborted(e)||isAborted(o))return INVALID;const i=mergeValues(e.value,o.value);return i.valid?((isDirty(e)||isDirty(o))&&t.dirty(),{status:t.value,value:i.data}):(addIssueToContext(r,{code:ZodIssueCode.invalid_intersection_types}),INVALID)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then((([e,t])=>o(e,t))):o(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ZodIntersection.create=(e,t,r)=>new ZodIntersection({left:e,right:t,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(r)});class ZodTuple extends ZodType{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ZodParsedType.array)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:r.parsedType}),INVALID;if(r.data.length<this._def.items.length)return addIssueToContext(r,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),INVALID;!this._def.rest&&r.data.length>this._def.items.length&&(addIssueToContext(r,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...r.data].map(((e,t)=>{const o=this._def.items[t]||this._def.rest;return o?o._parse(new ParseInputLazyPath(r,e,r.path,t)):null})).filter((e=>!!e));return r.common.async?Promise.all(o).then((e=>ParseStatus.mergeArray(t,e))):ParseStatus.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new ZodTuple({...this._def,rest:e})}}ZodTuple.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:e,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(t)})};class ZodRecord extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ZodParsedType.object)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:r.parsedType}),INVALID;const o=[],i=this._def.keyType,s=this._def.valueType;for(const e in r.data)o.push({key:i._parse(new ParseInputLazyPath(r,e,r.path,e)),value:s._parse(new ParseInputLazyPath(r,r.data[e],r.path,e))});return r.common.async?ParseStatus.mergeObjectAsync(t,o):ParseStatus.mergeObjectSync(t,o)}get element(){return this._def.valueType}static create(e,t,r){return new ZodRecord(t instanceof ZodType?{keyType:e,valueType:t,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(r)}:{keyType:ZodString.create(),valueType:e,typeName:ZodFirstPartyTypeKind.ZodRecord,...processCreateParams(t)})}}class ZodMap extends ZodType{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ZodParsedType.map)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:r.parsedType}),INVALID;const o=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map((([e,t],s)=>({key:o._parse(new ParseInputLazyPath(r,e,r.path,[s,"key"])),value:i._parse(new ParseInputLazyPath(r,t,r.path,[s,"value"]))})));if(r.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const r of s){const o=await r.key,i=await r.value;if("aborted"===o.status||"aborted"===i.status)return INVALID;"dirty"!==o.status&&"dirty"!==i.status||t.dirty(),e.set(o.value,i.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const r of s){const o=r.key,i=r.value;if("aborted"===o.status||"aborted"===i.status)return INVALID;"dirty"!==o.status&&"dirty"!==i.status||t.dirty(),e.set(o.value,i.value)}return{status:t.value,value:e}}}}ZodMap.create=(e,t,r)=>new ZodMap({valueType:t,keyType:e,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(r)});class ZodSet extends ZodType{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==ZodParsedType.set)return addIssueToContext(r,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:r.parsedType}),INVALID;const o=this._def;null!==o.minSize&&r.data.size<o.minSize.value&&(addIssueToContext(r,{code:ZodIssueCode.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),t.dirty()),null!==o.maxSize&&r.data.size>o.maxSize.value&&(addIssueToContext(r,{code:ZodIssueCode.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),t.dirty());const i=this._def.valueType;function s(e){const r=new Set;for(const o of e){if("aborted"===o.status)return INVALID;"dirty"===o.status&&t.dirty(),r.add(o.value)}return{status:t.value,value:r}}const n=[...r.data.values()].map(((e,t)=>i._parse(new ParseInputLazyPath(r,e,r.path,t))));return r.common.async?Promise.all(n).then((e=>s(e))):s(n)}min(e,t){return new ZodSet({...this._def,minSize:{value:e,message:errorUtil.toString(t)}})}max(e,t){return new ZodSet({...this._def,maxSize:{value:e,message:errorUtil.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ZodSet.create=(e,t)=>new ZodSet({valueType:e,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(t)});class ZodFunction extends ZodType{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ZodParsedType.function)return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.function,received:t.parsedType}),INVALID;function r(e,r){return makeIssue({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,getErrorMap(),errorMap].filter((e=>!!e)),issueData:{code:ZodIssueCode.invalid_arguments,argumentsError:r}})}function o(e,r){return makeIssue({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,getErrorMap(),errorMap].filter((e=>!!e)),issueData:{code:ZodIssueCode.invalid_return_type,returnTypeError:r}})}const i={errorMap:t.common.contextualErrorMap},s=t.data;return this._def.returns instanceof ZodPromise?OK((async(...e)=>{const t=new ZodError([]),n=await this._def.args.parseAsync(e,i).catch((o=>{throw t.addIssue(r(e,o)),t})),a=await s(...n);return await this._def.returns._def.type.parseAsync(a,i).catch((e=>{throw t.addIssue(o(a,e)),t}))})):OK(((...e)=>{const t=this._def.args.safeParse(e,i);if(!t.success)throw new ZodError([r(e,t.error)]);const n=s(...t.data),a=this._def.returns.safeParse(n,i);if(!a.success)throw new ZodError([o(n,a.error)]);return a.data}))}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ZodFunction({...this._def,args:ZodTuple.create(e).rest(ZodUnknown.create())})}returns(e){return new ZodFunction({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new ZodFunction({args:e||ZodTuple.create([]).rest(ZodUnknown.create()),returns:t||ZodUnknown.create(),typeName:ZodFirstPartyTypeKind.ZodFunction,...processCreateParams(r)})}}class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ZodLazy.create=(e,t)=>new ZodLazy({getter:e,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(t)});class ZodLiteral extends ZodType{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{received:t.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}function createZodEnum(e,t){return new ZodEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(t)})}ZodLiteral.create=(e,t)=>new ZodLiteral({value:e,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(t)});class ZodEnum extends ZodType{_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),r=this._def.values;return addIssueToContext(t,{expected:util.joinValues(r),received:t.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(-1===this._def.values.indexOf(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return addIssueToContext(t,{received:t.data,code:ZodIssueCode.invalid_enum_value,options:r}),INVALID}return OK(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){return ZodEnum.create(e)}exclude(e){return ZodEnum.create(this.options.filter((t=>!e.includes(t))))}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(e){const t=util.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ZodParsedType.string&&r.parsedType!==ZodParsedType.number){const e=util.objectValues(t);return addIssueToContext(r,{expected:util.joinValues(e),received:r.parsedType,code:ZodIssueCode.invalid_type}),INVALID}if(-1===t.indexOf(e.data)){const e=util.objectValues(t);return addIssueToContext(r,{received:r.data,code:ZodIssueCode.invalid_enum_value,options:e}),INVALID}return OK(e.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(e,t)=>new ZodNativeEnum({values:e,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(t)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ZodParsedType.promise&&!1===t.common.async)return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:t.parsedType}),INVALID;const r=t.parsedType===ZodParsedType.promise?t.data:Promise.resolve(t.data);return OK(r.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}ZodPromise.create=(e,t)=>new ZodPromise({type:e,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(t)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),o=this._def.effect||null;if("preprocess"===o.type){const e=o.transform(r.data);return r.common.async?Promise.resolve(e).then((e=>this._def.schema._parseAsync({data:e,path:r.path,parent:r}))):this._def.schema._parseSync({data:e,path:r.path,parent:r})}const i={addIssue:e=>{addIssueToContext(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"refinement"===o.type){const e=e=>{const t=o.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===r.common.async){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===o.status?INVALID:("dirty"===o.status&&t.dirty(),e(o.value),{status:t.value,value:o.value})}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((r=>"aborted"===r.status?INVALID:("dirty"===r.status&&t.dirty(),e(r.value).then((()=>({status:t.value,value:r.value}))))))}if("transform"===o.type){if(!1===r.common.async){const e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!isValid(e))return e;const s=o.transform(e.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then((e=>isValid(e)?Promise.resolve(o.transform(e.value,i)).then((e=>({status:t.value,value:e}))):e))}util.assertNever(o)}}ZodEffects.create=(e,t,r)=>new ZodEffects({schema:e,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:t,...processCreateParams(r)}),ZodEffects.createWithPreprocess=(e,t,r)=>new ZodEffects({schema:t,effect:{type:"preprocess",transform:e},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(r)});class ZodOptional extends ZodType{_parse(e){return this._getType(e)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ZodOptional.create=(e,t)=>new ZodOptional({innerType:e,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(t)});class ZodNullable extends ZodType{_parse(e){return this._getType(e)===ZodParsedType.null?OK(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ZodNullable.create=(e,t)=>new ZodNullable({innerType:e,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(t)});class ZodDefault extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===ZodParsedType.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}ZodDefault.create=(e,t)=>new ZodDefault({innerType:e,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...processCreateParams(t)});class ZodCatch extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},o=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return isAsync(o)?o.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new ZodError(r.common.issues)},input:r.data})}))):{status:"valid",value:"valid"===o.status?o.value:this._def.catchValue({get error(){return new ZodError(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(e,t)=>new ZodCatch({innerType:e,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...processCreateParams(t)});class ZodNaN extends ZodType{_parse(e){if(this._getType(e)!==ZodParsedType.nan){const t=this._getOrReturnCtx(e);return addIssueToContext(t,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:t.parsedType}),INVALID}return{status:"valid",value:e.data}}}ZodNaN.create=e=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(e)});const BRAND=Symbol("zod_brand");class ZodBranded extends ZodType{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?INVALID:"dirty"===e.status?(t.dirty(),DIRTY(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})()}{const e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?INVALID:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new ZodPipeline({in:e,out:t,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}const custom=(e,t={},r)=>e?ZodAny.create().superRefine(((o,i)=>{var s,n;if(!e(o)){const e="function"==typeof t?t(o):"string"==typeof t?{message:t}:t,a=null===(n=null!==(s=e.fatal)&&void 0!==s?s:r)||void 0===n||n,u="string"==typeof e?{message:e}:e;i.addIssue({code:"custom",...u,fatal:a})}})):ZodAny.create(),late={object:ZodObject.lazycreate};var ZodFirstPartyTypeKind;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline"}(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));const instanceOfType=(e,t={message:`Input not instance of ${e.name}`})=>custom((t=>t instanceof e),t),stringType=ZodString.create,numberType=ZodNumber.create,nanType=ZodNaN.create,bigIntType=ZodBigInt.create,booleanType=ZodBoolean.create,dateType=ZodDate.create,symbolType=ZodSymbol.create,undefinedType=ZodUndefined.create,nullType=ZodNull.create,anyType=ZodAny.create,unknownType=ZodUnknown.create,neverType=ZodNever.create,voidType=ZodVoid.create,arrayType=ZodArray.create,objectType=ZodObject.create,strictObjectType=ZodObject.strictCreate,unionType=ZodUnion.create,discriminatedUnionType=ZodDiscriminatedUnion.create,intersectionType=ZodIntersection.create,tupleType=ZodTuple.create,recordType=ZodRecord.create,mapType=ZodMap.create,setType=ZodSet.create,functionType=ZodFunction.create,lazyType=ZodLazy.create,literalType=ZodLiteral.create,enumType=ZodEnum.create,nativeEnumType=ZodNativeEnum.create,promiseType=ZodPromise.create,effectsType=ZodEffects.create,optionalType=ZodOptional.create,nullableType=ZodNullable.create,preprocessType=ZodEffects.createWithPreprocess,pipelineType=ZodPipeline.create,ostring=()=>stringType().optional(),onumber=()=>numberType().optional(),oboolean=()=>booleanType().optional(),coerce={string:e=>ZodString.create({...e,coerce:!0}),number:e=>ZodNumber.create({...e,coerce:!0}),boolean:e=>ZodBoolean.create({...e,coerce:!0}),bigint:e=>ZodBigInt.create({...e,coerce:!0}),date:e=>ZodDate.create({...e,coerce:!0})},NEVER=INVALID;var z=Object.freeze({__proto__:null,defaultErrorMap:errorMap,setErrorMap:setErrorMap,getErrorMap:getErrorMap,makeIssue:makeIssue,EMPTY_PATH:EMPTY_PATH,addIssueToContext:addIssueToContext,ParseStatus:ParseStatus,INVALID:INVALID,DIRTY:DIRTY,OK:OK,isAborted:isAborted,isDirty:isDirty,isValid:isValid,isAsync:isAsync,get util(){return util},get objectUtil(){return objectUtil},ZodParsedType:ZodParsedType,getParsedType:getParsedType,ZodType:ZodType,ZodString:ZodString,ZodNumber:ZodNumber,ZodBigInt:ZodBigInt,ZodBoolean:ZodBoolean,ZodDate:ZodDate,ZodSymbol:ZodSymbol,ZodUndefined:ZodUndefined,ZodNull:ZodNull,ZodAny:ZodAny,ZodUnknown:ZodUnknown,ZodNever:ZodNever,ZodVoid:ZodVoid,ZodArray:ZodArray,ZodObject:ZodObject,ZodUnion:ZodUnion,ZodDiscriminatedUnion:ZodDiscriminatedUnion,ZodIntersection:ZodIntersection,ZodTuple:ZodTuple,ZodRecord:ZodRecord,ZodMap:ZodMap,ZodSet:ZodSet,ZodFunction:ZodFunction,ZodLazy:ZodLazy,ZodLiteral:ZodLiteral,ZodEnum:ZodEnum,ZodNativeEnum:ZodNativeEnum,ZodPromise:ZodPromise,ZodEffects:ZodEffects,ZodTransformer:ZodEffects,ZodOptional:ZodOptional,ZodNullable:ZodNullable,ZodDefault:ZodDefault,ZodCatch:ZodCatch,ZodNaN:ZodNaN,BRAND:BRAND,ZodBranded:ZodBranded,ZodPipeline:ZodPipeline,custom:custom,Schema:ZodType,ZodSchema:ZodType,late:late,get ZodFirstPartyTypeKind(){return ZodFirstPartyTypeKind},coerce:coerce,any:anyType,array:arrayType,bigint:bigIntType,boolean:booleanType,date:dateType,discriminatedUnion:discriminatedUnionType,effect:effectsType,enum:enumType,function:functionType,instanceof:instanceOfType,intersection:intersectionType,lazy:lazyType,literal:literalType,map:mapType,nan:nanType,nativeEnum:nativeEnumType,never:neverType,null:nullType,nullable:nullableType,number:numberType,object:objectType,oboolean:oboolean,onumber:onumber,optional:optionalType,ostring:ostring,pipeline:pipelineType,preprocess:preprocessType,promise:promiseType,record:recordType,set:setType,strictObject:strictObjectType,string:stringType,symbol:symbolType,transformer:effectsType,tuple:tupleType,undefined:undefinedType,union:unionType,unknown:unknownType,void:voidType,NEVER:NEVER,ZodIssueCode:ZodIssueCode,quotelessJson:quotelessJson,ZodError:ZodError});function logger(e,t,r){if(e)switch(t){case"info":console.info(r);break;case"warn":console.warn(r);break;case"error":console.error(r);break;default:console.log(r)}}var CrowdHandlerError=function(e){function t(r,o,i,s,n){var a=e.call(this,o)||this;return a.name="CrowdHandlerError",a.code=r,a.statusCode=s,a.suggestion=i,a.context=n,Error.captureStackTrace&&Error.captureStackTrace(a,t),a}return __extends(t,e),t.prototype.toString=function(){var e="".concat(this.name," [").concat(this.code,"]: ").concat(this.message);return this.suggestion&&(e+="\n💡 Suggestion: ".concat(this.suggestion)),this.statusCode&&(e+="\n📊 Status Code: ".concat(this.statusCode)),this.context&&Object.keys(this.context).length>0&&(e+="\n🔍 Context: ".concat(JSON.stringify(this.context,null,2))),e},t}(Error),ErrorCodes={API_CONNECTION_FAILED:"API_CONNECTION_FAILED",API_TIMEOUT:"API_TIMEOUT",API_INVALID_RESPONSE:"API_INVALID_RESPONSE",INVALID_PUBLIC_KEY:"INVALID_PUBLIC_KEY",INVALID_PRIVATE_KEY:"INVALID_PRIVATE_KEY",MISSING_PRIVATE_KEY:"MISSING_PRIVATE_KEY",AUTHENTICATION_FAILED:"AUTHENTICATION_FAILED",INVALID_CONFIG:"INVALID_CONFIG",INVALID_MODE:"INVALID_MODE",MISSING_CONTEXT:"MISSING_CONTEXT",INVALID_CONTEXT:"INVALID_CONTEXT",VALIDATION_FAILED:"VALIDATION_FAILED",INVALID_TOKEN:"INVALID_TOKEN",SIGNATURE_MISMATCH:"SIGNATURE_MISMATCH",RATE_LIMITED:"RATE_LIMITED",DOMAIN_NOT_FOUND:"DOMAIN_NOT_FOUND",ROOM_NOT_FOUND:"ROOM_NOT_FOUND",SESSION_NOT_FOUND:"SESSION_NOT_FOUND",METHOD_NOT_AVAILABLE:"METHOD_NOT_AVAILABLE",BROWSER_ONLY:"BROWSER_ONLY",SERVER_ONLY:"SERVER_ONLY",UNKNOWN_ERROR:"UNKNOWN_ERROR"},createError={apiConnection:function(e){var t="ECONNABORTED"===e.code||"ETIMEDOUT"===e.code,r="ECONNREFUSED"===e.code;return t?new CrowdHandlerError(ErrorCodes.API_TIMEOUT,"Request to CrowdHandler API timed out","Try increasing the timeout option or check your network connection",void 0,{originalError:e.message}):r?new CrowdHandlerError(ErrorCodes.API_CONNECTION_FAILED,"Could not connect to CrowdHandler API","Check your internet connection and firewall settings. If the problem persists, check https://status.crowdhandler.com",void 0,{originalError:e.message}):new CrowdHandlerError(ErrorCodes.API_CONNECTION_FAILED,"Network error: ".concat(e.message),"Check your network connection and try again",void 0,{originalError:e.message})},invalidApiKey:function(e){var t="public"===e?ErrorCodes.INVALID_PUBLIC_KEY:ErrorCodes.INVALID_PRIVATE_KEY;return new CrowdHandlerError(t,"Invalid ".concat(e," key"),"Check your CrowdHandler dashboard for the correct ".concat(e," key"),401)},missingPrivateKey:function(e){return new CrowdHandlerError(ErrorCodes.MISSING_PRIVATE_KEY,"".concat(e," requires a private key"),"Initialize with: crowdhandler.init({ publicKey, privateKey })",403)},missingContext:function(e){return new CrowdHandlerError(ErrorCodes.MISSING_CONTEXT,"".concat(e," requires request context"),"Initialize with: ".concat("crowdhandler.init({ publicKey })"),400)},invalidResponse:function(e){return new CrowdHandlerError(ErrorCodes.API_INVALID_RESPONSE,"Received invalid response from CrowdHandler API","This might be a temporary issue. If it persists, contact support@crowdhandler.com",502,{response:JSON.stringify(e).substring(0,200)})},rateLimited:function(e){return new CrowdHandlerError(ErrorCodes.RATE_LIMITED,"API rate limit exceeded",e?"Wait ".concat(e," seconds before retrying"):"Reduce the frequency of API calls",429,{retryAfter:e})},resourceNotFound:function(e,t){var r={domain:ErrorCodes.DOMAIN_NOT_FOUND,room:ErrorCodes.ROOM_NOT_FOUND,session:ErrorCodes.SESSION_NOT_FOUND}[e]||ErrorCodes.API_INVALID_RESPONSE;return new CrowdHandlerError(r,"".concat(e," not found: ").concat(t),"Check that the ".concat(e," ID is correct and that you have access to it"),404,{resourceType:e,resourceId:t})}},APIResponse=z.object({}).catchall(z.any());z.object({error:z.string().optional(),message:z.string().optional(),statusCode:z.number().optional()}).catchall(z.any());var BaseClient=function(){function e(e,t,r){void 0===r&&(r={}),this.debug=r.debug||!1,this.apiUrl=r.apiUrl||e,this.key=t,this.timeout=r.timeout||5e3,axios.defaults.timeout=this.timeout}return e.prototype.wrapError=function(e){var t;return e instanceof CrowdHandlerError?e:"ZodError"===e.name?new CrowdHandlerError(ErrorCodes.API_INVALID_RESPONSE,"Invalid response format from API","This might be a temporary issue. If it persists, contact support@crowdhandler.com",void 0,{parseError:e.message}):new CrowdHandlerError(ErrorCodes.UNKNOWN_ERROR,e.message||"An unexpected error occurred","Please try again. If the problem persists, contact support@crowdhandler.com",void 0,{errorType:null===(t=e.constructor)||void 0===t?void 0:t.name,stack:e.stack})},e.prototype.errorHandler=function(e){var t,r,o,i;return __awaiter(this,void 0,void 0,(function(){var s,n,a,u,d,c,l;return __generator(this,(function(p){if(e instanceof CrowdHandlerError)throw e;if(e.response){if(s=e.response.status,n=e.response.data,logger(this.debug,"error","API Error - Status: ".concat(s," - ").concat(JSON.stringify(n))),logger(this.debug,"error","Response headers: ".concat(JSON.stringify(e.response.headers))),401===s)throw createError.invalidApiKey("public");if(429===s)throw a=e.response.headers["retry-after"],createError.rateLimited(a);if(404===s&&(u=null===(r=null===(t=e.config)||void 0===t?void 0:t.url)||void 0===r?void 0:r.match(/\/v1\/(\w+)\/(\w+)/)))throw d=u[1],c=u[2],createError.resourceNotFound(d,c);throw l=(null==n?void 0:n.error)||(null==n?void 0:n.message)||"API request failed with status ".concat(s),new CrowdHandlerError(ErrorCodes.API_INVALID_RESPONSE,l,s>=500?"This appears to be a server error. Please try again later or contact support@crowdhandler.com":"Please check your request parameters and try again",s,{url:null===(o=e.config)||void 0===o?void 0:o.url,method:null===(i=e.config)||void 0===i?void 0:i.method,responseData:JSON.stringify(n).substring(0,200)})}throw e.request?(logger(this.debug,"error","No response received: ".concat(e.message)),createError.apiConnection(e)):(logger(this.debug,"error","Request setup error: ".concat(e.message)),this.wrapError(e))}))}))},e.prototype.httpDELETE=function(e,t){return __awaiter(this,void 0,void 0,(function(){var t,r;return __generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,4]),[4,axios.delete(this.apiUrl+e,{headers:{"x-api-key":this.key}})];case 1:t=o.sent();try{return[2,APIResponse.parse(t.data)]}catch(e){throw this.wrapError(e)}return[3,4];case 2:return r=o.sent(),[4,this.errorHandler(r)];case 3:return o.sent(),[3,4];case 4:return[2]}}))}))},e.prototype.httpGET=function(e,t){return __awaiter(this,void 0,void 0,(function(){var r,o;return __generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,4]),[4,axios.get(this.apiUrl+e,{params:t,headers:{"x-api-key":this.key}})];case 1:r=i.sent();try{return[2,APIResponse.parse(r.data)]}catch(e){throw this.wrapError(e)}return[3,4];case 2:return o=i.sent(),[4,this.errorHandler(o)];case 3:return i.sent(),[3,4];case 4:return[2]}}))}))},e.prototype.httpPOST=function(e,t,r,o){return void 0===o&&(o=APIResponse),__awaiter(this,void 0,void 0,(function(){var i,s;return __generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,axios.post(this.apiUrl+e,t,{headers:__assign({"x-api-key":this.key},r)})];case 1:i=n.sent();try{return[2,o.parse(i.data)]}catch(e){throw this.wrapError(e)}return[3,4];case 2:return s=n.sent(),[4,this.errorHandler(s)];case 3:return n.sent(),[3,4];case 4:return[2]}}))}))},e.prototype.httpPUT=function(e,t){return __awaiter(this,void 0,void 0,(function(){var r,o;return __generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,axios.put(this.apiUrl+e,t,{headers:{"x-api-key":this.key}})];case 1:return r=i.sent(),[2,APIResponse.parse(r.data)];case 2:return o=i.sent(),[2,this.errorHandler(o)];case 3:return[2]}}))}))},e}(),Resource=function(e){function t(t,r,o){void 0===o&&(o={});var i=this,s=null!=o?o:{};s.timeout,s.debug;var n=s.apiUrl,a=void 0===n?"https://api.crowdhandler.com":n;return(i=e.call(this,a,t,o)||this).path=r,i}return __extends(t,e),t.prototype.formatPath=function(e,t){return t=t||"",e=e.replace("ID_PLACEHOLDER",t)},t.prototype.delete=function(t,r){return this.path=this.formatPath(this.path,t),e.prototype.httpDELETE.call(this,this.path,r)},t.prototype.get=function(t,r){return t||(t=""),this.path=this.formatPath(this.path,t),e.prototype.httpGET.call(this,this.path,r)},t.prototype.post=function(t){return this.path=this.formatPath(this.path,""),e.prototype.httpPOST.call(this,this.path,t)},t.prototype.put=function(t,r){return this.path=this.formatPath(this.path,t),e.prototype.httpPUT.call(this,this.path,r)},t}(BaseClient),PublicClient=function(e){function t(t,r){void 0===r&&(r={});var o=null!=r?r:{};o.timeout,o.debug;var i=o.apiUrl,s=void 0===i?"https://api.crowdhandler.com":i;return e.call(this,s,t,r)||this}return __extends(t,e),t.prototype.requests=function(){return new Resource(this.key,"/v1/requests/ID_PLACEHOLDER",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.responses=function(){return new Resource(this.key,"/v1/responses/ID_PLACEHOLDER",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.rooms=function(){return new Resource(this.key,"/v1/rooms/",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t}(BaseClient),PrivateClient=function(e){function t(t,r){void 0===r&&(r={});var o=null!=r?r:{};o.timeout,o.debug;var i=o.apiUrl,s=void 0===i?"https://api.crowdhandler.com":i;return e.call(this,s,t,r)||this}return __extends(t,e),t.prototype.account=function(){return new Resource(this.key,"/v1/account/",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.accountPlan=function(){return new Resource(this.key,"/v1/account/plan",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.codes=function(){return new Resource(this.key,"/v1/codes/ID_PLACEHOLDER",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.domains=function(){return new Resource(this.key,"/v1/domains/ID_PLACEHOLDER",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.domainIPs=function(){return new Resource(this.key,"/v1/domains/ID_PLACEHOLDER/ips",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.domainReports=function(){return new Resource(this.key,"/v1/domains/ID_PLACEHOLDER/reports",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.domainRequests=function(){return new Resource(this.key,"/v1/domains/ID_PLACEHOLDER/requests",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.domainRooms=function(){return new Resource(this.key,"/v1/domains/ID_PLACEHOLDER/rooms",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.domainURLs=function(){return new Resource(this.key,"/v1/domains/ID_PLACEHOLDER/urls",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.groups=function(){return new Resource(this.key,"/v1/groups/ID_PLACEHOLDER",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.groupBatch=function(){return new Resource(this.key,"/v1/groups/ID_PLACEHOLDER/batch",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.groupCodes=function(){return new Resource(this.key,"/v1/groups/ID_PLACEHOLDER/codes",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.ips=function(){return new Resource(this.key,"/v1/ips/ID_PLACEHOLDER",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.reports=function(){return new Resource(this.key,"/v1/reports/ID_PLACEHOLDER",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.rooms=function(){return new Resource(this.key,"/v1/rooms/ID_PLACEHOLDER",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.roomReports=function(){return new Resource(this.key,"/v1/rooms/ID_PLACEHOLDER/reports",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.roomSessions=function(){return new Resource(this.key,"/v1/rooms/ID_PLACEHOLDER/sessions",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.sessions=function(){return new Resource(this.key,"/v1/sessions/ID_PLACEHOLDER",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t.prototype.templates=function(){return new Resource(this.key,"/v1/templates/ID_PLACEHOLDER",{timeout:this.timeout,debug:this.debug,apiUrl:this.apiUrl})},t}(BaseClient),Client=function(){function e(e){this.publicClient=new PublicClient(e.publicKey,e.options),this.hasPrivateAccess=!!e.privateKey,e.privateKey&&(this.privateClient=new PrivateClient(e.privateKey,e.options))}return e.prototype.requests=function(){return this.publicClient.requests()},e.prototype.responses=function(){return this.publicClient.responses()},e.prototype.rooms=function(){return this.publicClient.rooms()},e.prototype.account=function(){return this.requirePrivateAccess("account()"),this.privateClient.account()},e.prototype.accountPlan=function(){return this.requirePrivateAccess("accountPlan()"),this.privateClient.accountPlan()},e.prototype.codes=function(){return this.requirePrivateAccess("codes()"),this.privateClient.codes()},e.prototype.domains=function(){return this.requirePrivateAccess("domains()"),this.privateClient.domains()},e.prototype.domainIPs=function(){return this.requirePrivateAccess("domainIPs()"),this.privateClient.domainIPs()},e.prototype.domainReports=function(){return this.requirePrivateAccess("domainReports()"),this.privateClient.domainReports()},e.prototype.domainRequests=function(){return this.requirePrivateAccess("domainRequests()"),this.privateClient.domainRequests()},e.prototype.domainRooms=function(){return this.requirePrivateAccess("domainRooms()"),this.privateClient.domainRooms()},e.prototype.domainURLs=function(){return this.requirePrivateAccess("domainURLs()"),this.privateClient.domainURLs()},e.prototype.groups=function(){return this.requirePrivateAccess("groups()"),this.privateClient.groups()},e.prototype.groupBatch=function(){return this.requirePrivateAccess("groupBatch()"),this.privateClient.groupBatch()},e.prototype.groupCodes=function(){return this.requirePrivateAccess("groupCodes()"),this.privateClient.groupCodes()},e.prototype.ips=function(){return this.requirePrivateAccess("ips()"),this.privateClient.ips()},e.prototype.reports=function(){return this.requirePrivateAccess("reports()"),this.privateClient.reports()},e.prototype.roomReports=function(){return this.requirePrivateAccess("roomReports()"),this.privateClient.roomReports()},e.prototype.roomSessions=function(){return this.requirePrivateAccess("roomSessions()"),this.privateClient.roomSessions()},e.prototype.sessions=function(){return this.requirePrivateAccess("sessions()"),this.privateClient.sessions()},e.prototype.templates=function(){return this.requirePrivateAccess("templates()"),this.privateClient.templates()},e.prototype.getPublicClient=function(){return this.publicClient},e.prototype.hasPrivateAPIAccess=function(){return this.hasPrivateAccess},e.prototype.requirePrivateAccess=function(e){if(!this.hasPrivateAccess)throw createError.missingPrivateKey(e)},e}(),BrowserHandler=function(){function e(){}return e.prototype.getCookies=function(){return document.cookie},e.prototype.getHost=function(){return window.location.host},e.prototype.getProtocol=function(){return window.location.protocol},e.prototype.getPath=function(){return window.location.search?"".concat(window.location.pathname).concat(window.location.search):window.location.pathname},e.prototype.getAbsoluteUri=function(){return window.location.href},e.prototype.setCookie=function(e,t){void 0===t&&(t="crowdhandler");var r={path:"/",secure:!0};document.cookie="".concat(t,"=").concat(e,"; ").concat(Object.keys(r).map((function(e){return"".concat(e,"=").concat(r[e])})).join("; "))},e.prototype.getLocalStorageItem=function(e){return localStorage.getItem(e)},e.prototype.setLocalStorageItem=function(e,t){localStorage.setItem(e,t)},e.prototype.redirect=function(e){window.location.href=e},e}(),LambdaRequestHandler=function(){function e(e){this.request=e}return e.prototype.getHeader=function(e){var t=this.request.headers[e.toLowerCase()];return t?t[0].value:""},e.prototype.getCookies=function(){var e=this.request.headers.cookie;return e?e[0].value:""},e.prototype.getHost=function(){return this.request.headers.host[0].value},e.prototype.getProtocol=function(){return this.request.headers["cloudfront-forwarded-proto"][0].value},e.prototype.getPath=function(){return this.request.querystring?"".concat(this.request.uri,"?").concat(this.request.querystring):this.request.uri},e.prototype.getAbsoluteUri=function(){var e=this.getProtocol(),t=this.getHost(),r=this.getPath();return"".concat(e,"://").concat(t).concat(r)},e.prototype.getUserHostAddress=function(){return this.request.clientIp},e.prototype.setHeader=function(e,t){this.request.headers[e]=[{key:e,value:t}]},e.prototype.redirect=function(e){return{status:"302",statusDescription:"Found",headers:{location:[{key:"Location",value:e}],"cache-control":[{key:"Cache-Control",value:"no-cache, no-store, must-revalidate"}],expires:[{key:"Expires",value:"Fri, 01 Jan 1970 00:00:00 GMT"}],pragma:[{key:"Pragma",value:"no-cache"}]}}},e}(),LambdaResponseHandler=function(){function e(e,t){this.request=e,this.response=t}return e.prototype.getHeader=function(e){var t=this.request.headers[e.toLowerCase()];return t?t[0].value:""},e.prototype.getHost=function(){return this.request.headers.host[0].value},e.prototype.getProtocol=function(){return this.request.headers["cloudfront-forwarded-proto"][0].value},e.prototype.getPath=function(){return this.request.uri},e.prototype.setCookie=function(e,t){void 0===t&&(t="crowdhandler");var r={path:"/",secure:!0},o="".concat(t,"=").concat(e,"; ").concat(Object.keys(r).map((function(e){return"".concat(e,"=").concat(r[e])})).join("; ")),i=this.response.headers["set-cookie"]||[];return i.push({key:"Set-Cookie",value:o}),this.response.headers["set-cookie"]=i,this.response},e}(),NodeJSHandler=function(){function e(e,t){this.request=e,this.response=t}return e.prototype.getHeader=function(e){var t=this.request.header(e);return t||""},e.prototype.getCookies=function(){return this.request.get("cookie")},e.prototype.getHost=function(){return this.request.get("host")},e.prototype.getProtocol=function(){return this.request.protocol},e.prototype.getPath=function(){return this.request.originalUrl},e.prototype.getAbsoluteUri=function(){return this.request.protocol+"://"+this.request.get("host")+this.request.originalUrl},e.prototype.getUserHostAddress=function(){return this.request.ip},e.prototype.setCookie=function(e,t){void 0===t&&(t="crowdhandler");var r={path:"/",secure:!0};return this.response.setHeader("Set-Cookie","".concat(t,"=").concat(e,"; ").concat(Object.keys(r).map((function(e){return"".concat(e,"=").concat(r[e])})).join("; ")))},e.prototype.redirect=function(e){return this.response.setHeader("Cache-Control","no-cache, no-store, max-age=0"),this.response.setHeader("Pragma","no-cache"),this.response.setHeader("Expires",0),this.response.setHeader("Location",e),this.response.statusCode=302,this.response.end()},e}(),RequestContext=function(e){var t;if(!e||!e.lambdaEvent)return e&&e.request&&e.response?new NodeJSHandler(e.request,e.response):new BrowserHandler;switch(null===(t=e.lambdaEvent)||void 0===t?void 0:t.Records[0].cf.config.eventType){case"viewer-request":case"origin-request":var r=e.lambdaEvent;return new LambdaRequestHandler(r.Records[0].cf.request);case"viewer-response":case"origin-response":var o=e.lambdaEvent;return new LambdaResponseHandler(o.Records[0].cf.request,o.Records[0].cf.response)}};function ignoredPatternsCheck(e,t){return t.test(e)}var RoomConfig=z.object({domain:z.string(),urlPattern:z.string().optional(),patternType:z.enum(["regex","contains","all"]).optional(),queueActivatesOn:z.number().optional(),slug:z.string(),timeout:z.number().optional()}),RoomsConfig=z.array(RoomConfig);z.object({debug:z.boolean().optional(),fallbackSlug:z.string().optional(),mode:z.string().optional(),timeout:z.number().optional(),trustOnFail:z.boolean().optional(),cookieName:z.string().optional(),liteValidator:z.boolean().optional(),roomsConfig:RoomsConfig.optional(),waitingRoom:z.boolean().optional()}),z.object({publicKey:z.string(),privateKey:z.string().optional()}),z.object({"ch-code":z.string().optional(),"ch-id":z.string().optional(),"ch-id-signature":z.string().optional(),"ch-public-key":z.string().optional(),"ch-requested":z.string().optional(),"ch-token":z.string().optional()}).catchall(z.any());var SpecialParametersObject=z.object({chCode:z.string(),chID:z.string(),chIDSignature:z.string(),chPublicKey:z.string(),chRequested:z.string()});z.object({agent:z.string().optional(),ip:z.string().optional(),lang:z.string().optional(),url:z.string().optional(),slug:z.string().optional()}),z.object({targetURL:z.string(),specialParameters:SpecialParametersObject}),z.object({hostname:z.string(),path:z.string()}).catchall(z.any());var CookieObject=z.object({tokens:z.array(z.any()),deployment:z.string().optional()}).catchall(z.any()),LocalStorageObject=z.object({countdown:z.record(z.unknown()),positions:z.record(z.unknown()),token:z.record(z.string())});z.object({storageName:z.string(),localStorageValue:z.string()});var RoomMetaObject=z.object({domain:z.string().nullable(),patternType:z.string().nullable(),queueActivatesOn:z.string().nullable(),slug:z.string().nullable(),status:z.boolean().nullable(),timeout:z.number().nullable()}).catchall(z.any());z.array(z.object({gen:z.string(),sig:z.string()})),z.object({expiration:z.nullable(z.boolean()),success:z.nullable(z.boolean())}),z.object({chIDSignature:z.string().optional(),crowdhandlerCookieValue:CookieObject.optional()}),z.object({crowdhandlerCookieValue:CookieObject.optional(),chID:z.string().optional(),localStorageValue:LocalStorageObject.optional(),simpleCookieValue:z.string().optional()}),z.object({token:z.string(),touched:z.number(),touchedSig:z.string(),signatures:z.array(z.any())}),z.object({tokenDatestamp:z.number(),tokenDatestampSignature:z.string(),tokenSignature:z.string(),tokenSignatureGenerated:z.string(),tokenSignatures:z.array(z.any()),tokenValue:z.string()}),z.object({promoted:z.boolean(),stripParams:z.boolean(),setCookie:z.boolean(),cookieValue:z.string().optional(),setLocalStorage:z.boolean(),localStorageValue:z.string().optional(),responseID:z.string().optional(),slug:z.string().optional(),targetURL:z.string().optional(),deployment:z.string().optional(),hash:z.string().nullable().optional(),token:z.string().optional(),requested:z.string().optional(),liteValidatorRedirect:z.boolean().optional(),liteValidatorUrl:z.string().optional()});var HttpErrorWrapper=z.object({result:z.object({error:z.string().nullable(),status:z.number().nullable()})});z.object({result:z.object({hash:z.string().nullable().optional(),promoted:z.number().nullable(),status:z.number().nullable(),slug:z.string().nullable().optional(),token:z.string().nullable().optional(),urlRedirect:z.string().nullable().optional(),requested:z.string().nullable().optional()}).catchall(z.any())});var RecordPerformanceOptions=z.object({statusCode:z.number().optional().default(200),sample:z.number().optional().default(.2),overrideElapsed:z.number().optional(),responseID:z.string().optional()}),Modes={FULL:"full",HYBRID:"hybrid",CLIENTSIDE:"clientside",AUTO:"auto"},ConfigParse=function(){function e(e,t,r,o){this.roomMeta={domain:null,patternType:null,queueActivatesOn:null,slug:null,status:!1,timeout:null},this.config=e,this.host=t,this.path=r,this.patterns=o}return e.prototype.patternEvaulation=function(e){switch(e.patternType){case"regex":return new RegExp(e.urlPattern).test(this.path);case"contains":var t=e.urlPattern;return this.path.includes(t);case"all":return!0}},e.prototype.parse=function(){var e,t=this;if(ignoredPatternsCheck(this.path,this.patterns))return RoomMetaObject.parse(this.roomMeta);e=this.config.filter((function(e){if(e.domain==="https://".concat(t.host))return e}));for(var r=0,o=e;r<o.length;r++){var i=o[r];!0===this.patternEvaulation(i)&&null===this.roomMeta.slug&&(this.roomMeta.domain=i.domain,this.roomMeta.patternType=i.patternType,this.roomMeta.queueActivatesOn=i.queueActivatesOn,this.roomMeta.slug=i.slug,this.roomMeta.status=!0,this.roomMeta.timeout=i.timeout)}return RoomMetaObject.parse(this.roomMeta)},e}(),queryString={},strictUriEncode,hasRequiredStrictUriEncode,decodeUriComponent,hasRequiredDecodeUriComponent,splitOnFirst,hasRequiredSplitOnFirst,filterObj,hasRequiredFilterObj,hasRequiredQueryString;function requireStrictUriEncode(){return hasRequiredStrictUriEncode?strictUriEncode:(hasRequiredStrictUriEncode=1,strictUriEncode=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)))}function requireDecodeUriComponent(){if(hasRequiredDecodeUriComponent)return decodeUriComponent;hasRequiredDecodeUriComponent=1;var e="%[a-f0-9]{2}",t=new RegExp("("+e+")|([^%]+?)","gi"),r=new RegExp("("+e+")+","gi");function o(e,t){try{return[decodeURIComponent(e.join(""))]}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],o(r),o(i))}function i(e){try{return decodeURIComponent(e)}catch(s){for(var r=e.match(t)||[],i=1;i<r.length;i++)r=(e=o(r,i).join("")).match(t)||[];return e}}return decodeUriComponent=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},o=r.exec(e);o;){try{t[o[0]]=decodeURIComponent(o[0])}catch(e){var s=i(o[0]);s!==o[0]&&(t[o[0]]=s)}o=r.exec(e)}t["%C2"]="�";for(var n=Object.keys(t),a=0;a<n.length;a++){var u=n[a];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}}function requireSplitOnFirst(){return hasRequiredSplitOnFirst?splitOnFirst:(hasRequiredSplitOnFirst=1,splitOnFirst=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]})}function requireFilterObj(){return hasRequiredFilterObj?filterObj:(hasRequiredFilterObj=1,filterObj=function(e,t){for(var r={},o=Object.keys(e),i=Array.isArray(t),s=0;s<o.length;s++){var n=o[s],a=e[n];(i?-1!==t.indexOf(n):t(n,a,e))&&(r[n]=a)}return r})}function requireQueryString(){return hasRequiredQueryString||(hasRequiredQueryString=1,function(e){const t=requireStrictUriEncode(),r=requireDecodeUriComponent(),o=requireSplitOnFirst(),i=requireFilterObj(),s=Symbol("encodeFragmentIdentifier");function n(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function a(e,r){return r.encode?r.strict?t(e):encodeURIComponent(e):e}function u(e,t){return t.decode?r(e):e}function d(e){return Array.isArray(e)?e.sort():"object"==typeof e?d(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function l(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function h(e,t){n((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,o)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===o[e]&&(o[e]={}),o[e][t[1]]=r):o[e]=r};case"bracket":return(e,r,o)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],r):o[e]=[r]:o[e]=r};case"colon-list-separator":return(e,r,o)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==o[e]?o[e]=[].concat(o[e],r):o[e]=[r]:o[e]=r};case"comma":case"separator":return(t,r,o)=>{const i="string"==typeof r&&r.includes(e.arrayFormatSeparator),s="string"==typeof r&&!i&&u(r,e).includes(e.arrayFormatSeparator);r=s?u(r,e):r;const n=i||s?r.split(e.arrayFormatSeparator).map((t=>u(t,e))):null===r?r:u(r,e);o[t]=n};case"bracket-separator":return(t,r,o)=>{const i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i)return void(o[t]=r?u(r,e):r);const s=null===r?[]:r.split(e.arrayFormatSeparator).map((t=>u(t,e)));void 0!==o[t]?o[t]=[].concat(o[t],s):o[t]=s};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),i=Object.create(null);if("string"!=typeof e)return i;if(!(e=e.trim().replace(/^[?#&]/,"")))return i;for(const s of e.split("&")){if(""===s)continue;let[e,n]=o(t.decode?s.replace(/\+/g," "):s,"=");n=void 0===n?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?n:u(n,t),r(u(e,t),n,i)}for(const e of Object.keys(i)){const r=i[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=p(r[e],t);else i[e]=p(r,t)}return!1===t.sort?i:(!0===t.sort?Object.keys(i).sort():Object.keys(i).sort(t.sort)).reduce(((e,t)=>{const r=i[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=d(r):e[t]=r,e}),Object.create(null))}e.extract=l,e.parse=h,e.stringify=(e,t)=>{if(!e)return"";n((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],o=function(e){switch(e.arrayFormat){case"index":return t=>(r,o)=>{const i=r.length;return void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,[a(t,e),"[",i,"]"].join("")]:[...r,[a(t,e),"[",a(i,e),"]=",a(o,e)].join("")]};case"bracket":return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,[a(t,e),"[]"].join("")]:[...r,[a(t,e),"[]=",a(o,e)].join("")];case"colon-list-separator":return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,[a(t,e),":list="].join("")]:[...r,[a(t,e),":list=",a(o,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(o,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?o:(i=null===i?"":i,0===o.length?[[a(r,e),t,a(i,e)].join("")]:[[o,a(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(r,o)=>void 0===o||e.skipNull&&null===o||e.skipEmptyString&&""===o?r:null===o?[...r,a(t,e)]:[...r,[a(t,e),"=",a(o,e)].join("")]}}(t),i={};for(const t of Object.keys(e))r(t)||(i[t]=e[t]);const s=Object.keys(i);return!1!==t.sort&&s.sort(t.sort),s.map((r=>{const i=e[r];return void 0===i?"":null===i?a(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?a(r,t)+"[]":i.reduce(o(r),[]).join("&"):a(r,t)+"="+a(i,t)})).filter((e=>e.length>0)).join("&")},e.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,i]=o(e,"#");return Object.assign({url:r.split("?")[0]||"",query:h(l(e),t)},t&&t.parseFragmentIdentifier&&i?{fragmentIdentifier:u(i,t)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[s]:!0},r);const o=c(t.url).split("?")[0]||"",i=e.extract(t.url),n=e.parse(i,{sort:!1}),u=Object.assign(n,t.query);let d=e.stringify(u,r);d&&(d=`?${d}`);let l=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(t.url);return t.fragmentIdentifier&&(l=`#${r[s]?a(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${o}${d}${l}`},e.pick=(t,r,o)=>{o=Object.assign({parseFragmentIdentifier:!0,[s]:!1},o);const{url:n,query:a,fragmentIdentifier:u}=e.parseUrl(t,o);return e.stringifyUrl({url:n,query:i(a,r),fragmentIdentifier:u},o)},e.exclude=(t,r,o)=>{const i=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return e.pick(t,i,o)}}(queryString)),queryString}var queryStringExports=requireQueryString(),qparse=getDefaultExportFromCjs(queryStringExports),ProcessURL=function(){function e(e,t){void 0===t&&(t=!1),this.host=e.getHost(),this.path=e.getPath(),this.specialParameters={chCode:"",chID:"",chIDSignature:"",chPublicKey:"",chRequested:""},this.debug=t}return e.prototype.parseURL=function(){if(!this.host)return logger(this.debug,"warn","No host found in request object."),{targetURL:"",specialParameters:this.specialParameters};if(!this.path)return logger(this.debug,"warn","No path found in request object."),{targetURL:"",specialParameters:this.specialParameters};var e;e=function(e){var t;return e.includes("?")&&(t=e.split("?")[1]),t}(this.path),e&&(this.queryString=function(e){if(e)return qparse.parse(e,{sort:!1})}(e));var t=this.queryString||{},r=t["ch-code"],o=t["ch-id"],i=t["ch-id-signature"],s=t["ch-public-key"],n=t["ch-requested"];r&&"undefined"!==r&&"null"!==r||(r=""),this.specialParameters.chCode=r,o&&"undefined"!==o&&"null"!==o||(o=""),this.specialParameters.chID=o,i&&"undefined"!==i&&"null"!==i||(i=""),this.specialParameters.chIDSignature=i,s&&"undefined"!==s&&"null"!==s||(s=""),this.specialParameters.chPublicKey=s,n&&"undefined"!==n&&"null"!==n||(n=""),this.specialParameters.chRequested=n;var a=this.processQueryString(this.queryString);return this.path=this.path.split("?")[0],this.targetURL=a?encodeURIComponent("https://".concat(this.host).concat(this.path,"?").concat(a)):encodeURIComponent("https://".concat(this.host).concat(this.path)),{targetURL:this.targetURL,specialParameters:this.specialParameters}},e.prototype.processQueryString=function(e){return e&&(delete e["ch-code"],delete e["ch-fresh"],delete e["ch-id"],delete e["ch-id-signature"],delete e["ch-public-key"],delete e["ch-requested"]),e&&0!==Object.keys(e).length?qparse.stringify(e,{sort:!1}):""},e}(),sha256={exports:{}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(module){(function(){var ERROR="input is invalid type",WINDOW=!0,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(r){return new Sha256(t,!0).update(r)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var r=0;r<OUTPUT_TYPES.length;++r){var o=OUTPUT_TYPES[r];t[o]=createOutputMethod(o,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(r,o){return new HmacSha256(r,t,!0).update(o)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,r){return t.create(e).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var o=OUTPUT_TYPES[r];t[o]=createHmacOutputMethod(o,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,r){var o,i=typeof e;if("string"===i){var s,n=[],a=e.length,u=0;for(o=0;o<a;++o)(s=e.charCodeAt(o))<128?n[u++]=s:s<2048?(n[u++]=192|s>>6,n[u++]=128|63&s):s<55296||s>=57344?(n[u++]=224|s>>12,n[u++]=128|s>>6&63,n[u++]=128|63&s):(s=65536+((1023&s)<<10|1023&e.charCodeAt(++o)),n[u++]=240|s>>18,n[u++]=128|s>>12&63,n[u++]=128|s>>6&63,n[u++]=128|63&s);e=n}else{if("object"!==i)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var d=[],c=[];for(o=0;o<64;++o){var l=e[o]||0;d[o]=92^l,c[o]=54^l}Sha256.call(this,t,r),this.update(c),this.oKeyPad=d,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var o,i,s=0,n=e.length,a=this.blocks;s<n;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)for(i=this.start;s<n&&i<64;++s)a[i>>2]|=e[s]<<SHIFT[3&i++];else for(i=this.start;s<n&&i<64;++s)(o=e.charCodeAt(s))<128?a[i>>2]|=o<<SHIFT[3&i++]:o<2048?(a[i>>2]|=(192|o>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&o)<<SHIFT[3&i++]):o<55296||o>=57344?(a[i>>2]|=(224|o>>12)<<SHIFT[3&i++],a[i>>2]|=(128|o>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&o)<<SHIFT[3&i++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++s)),a[i>>2]|=(240|o>>18)<<SHIFT[3&i++],a[i>>2]|=(128|o>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|o>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&o)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,r,o,i,s,n,a,u,d=this.h0,c=this.h1,l=this.h2,p=this.h3,h=this.h4,f=this.h5,g=this.h6,m=this.h7,y=this.blocks;for(e=16;e<64;++e)t=((i=y[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=y[e-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,y[e]=y[e-16]+t+y[e-7]+r|0;for(u=c&l,e=0;e<64;e+=4)this.first?(this.is224?(s=300032,m=(i=y[0]-1413257819)-150054599|0,p=i+24177077|0):(s=704751109,m=(i=y[0]-210244248)-1521486534|0,p=i+143694565|0),this.first=!1):(t=(d>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),o=(s=d&c)^d&l^u,m=p+(i=m+(r=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&f^~h&g)+K[e]+y[e])|0,p=i+(t+o)|0),t=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),o=(n=p&d)^p&c^s,g=l+(i=g+(r=(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7))+(m&h^~m&f)+K[e+1]+y[e+1])|0,t=((l=i+(t+o)|0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),o=(a=l&p)^l&d^n,f=c+(i=f+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&m^~g&h)+K[e+2]+y[e+2])|0,t=((c=i+(t+o)|0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),o=(u=c&l)^c&p^a,h=d+(i=h+(r=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&g^~f&m)+K[e+3]+y[e+3])|0,d=i+(t+o)|0;this.h0=this.h0+d|0,this.h1=this.h1+c|0,this.h2=this.h2+l|0,this.h3=this.h3+p|0,this.h4=this.h4+h|0,this.h5=this.h5+f|0,this.h6=this.h6+g|0,this.h7=this.h7+m|0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,o=this.h3,i=this.h4,s=this.h5,n=this.h6,a=this.h7,u=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n];return this.is224||(u+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),u},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,o=this.h3,i=this.h4,s=this.h5,n=this.h6,a=this.h7,u=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i,s>>24&255,s>>16&255,s>>8&255,255&s,n>>24&255,n>>16&255,n>>8&255,255&n];return this.is224||u.push(a>>24&255,a>>16&255,a>>8&255,255&a),u},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()}(sha256)),sha256.exports}
/**
	 * [js-sha256]{@link https://github.com/emn178/js-sha256}
	 *
	 * @version 0.9.0
	 * @author Chen, Yi-Cyuan [emn178@gmail.com]
	 * @copyright Chen, Yi-Cyuan 2014-2017
	 * @license MIT
	 */
sha256.exports;var sha256Exports=requireSha256();function generateSignature(e){return sha256Exports.sha256(e)}var Signature=function(){function e(e,t,r,o,i,s,n,a,u,d){void 0===o&&(o=[]),void 0===d&&(d=!1),this.hashCandidates=[],this.validationResponse={expiration:null,success:null},this.activeConfig=e,this.hashedPrivateKey=t,this.signatureType=r,this.complexSignature=i,this.simpleSignature=o,this.token=s,this.cookie=n,this.requested=a,this.specialParameters=u,this.debug=d,this.requested&&(this.specialParameters.chRequested=this.requested),this.specialParameters.chRequested?this.freshSignature=!0:this.freshSignature=!1}return e.prototype.getHashCandidates=function(){var e=[];try{this.cookie&&(CookieObject.parse(this.cookie),!this.freshSignature&&this.cookie&&(this.activeCookie=this.cookie.tokens[this.cookie.tokens.length-1]))}catch(e){logger(this.debug,"error",e)}if(this.simpleSignature&&this.simpleSignature.length>0)this.hashCandidates.unshift("".concat(this.hashedPrivateKey).concat(this.activeConfig.slug).concat(this.activeConfig.queueActivatesOn).concat(this.token).concat(this.specialParameters.chRequested));else{if(!(this.complexSignature&&this.complexSignature.length>0))return this.validationResponse.expiration=!1,void(this.validationResponse.success=!1);for(var t=0,r=this.complexSignature;t<r.length;t++){var o=r[t];e.unshift(o.gen)}for(var i=0,s=e;i<s.length;i++){o=s[i];this.hashCandidates.push("".concat(this.hashedPrivateKey).concat(this.activeConfig.slug).concat(this.activeConfig.queueActivatesOn).concat(this.token).concat(o))}}},e.prototype.hashValidation=function(){if(this.freshSignature){var e=generateSignature(this.hashCandidates[0]);!0===this.simpleSignature.some((function(t){return t===e}))&&(this.matchedSignature=e)}else if(this.complexSignature&&this.complexSignature.length>0)for(var t=function(e){var t=generateSignature(e);if(!0===r.complexSignature.some((function(e){return e.sig===t})))return r.matchedSignature=t,"break"},r=this,o=0,i=this.hashCandidates;o<i.length;o++){if("break"===t(i[o]))break}if(!this.matchedSignature)return this.validationResponse.expiration=!1,void(this.validationResponse.success=!1)},e.prototype.hashExpiration=function(){function e(e){var t=((new Date).getTime()-e)/1e3/60;return t=Math.round(10*t)/10}return this.freshSignature&&this.specialParameters.chRequested?e(Date.parse(this.specialParameters.chRequested))<this.activeConfig.timeout?(this.validationResponse.expiration=!1,void(this.validationResponse.success=!0)):void 0:this.activeCookie&&this.activeCookie.touchedSig===generateSignature("".concat(this.hashedPrivateKey).concat(this.activeCookie.touched))&&e(this.activeCookie.touched)<this.activeConfig.timeout?(this.validationResponse.expiration=!1,void(this.validationResponse.success=!0)):(this.validationResponse.expiration=!0,void(this.validationResponse.success=!1))},e.prototype.validateSignature=function(){try{if(this.getHashCandidates(),null!==this.validationResponse.success)return this.validationResponse}catch(e){return logger(this.debug,"error",e),this.validationResponse.expiration=!1,this.validationResponse.success=!1,this.validationResponse}try{if(this.hashValidation(),null!==this.validationResponse.success)return this.validationResponse}catch(e){return logger(this.debug,"error",e),this.validationResponse.expiration=!1,this.validationResponse.success=!1,this.validationResponse}try{return this.hashExpiration(),this.validationResponse}catch(e){return logger(this.debug,"error",e),this.validationResponse.expiration=!1,this.validationResponse.success=!1,this.validationResponse}},e}(),GenerateCookieObject=function(){function e(e){this.tokenDatestamp=e.tokenDatestamp,this.tokenDatestampSignature=e.tokenDatestampSignature,this.tokenSignature=e.tokenSignature,this.tokenSignatureGenerated=e.tokenSignatureGenerated,this.tokenSignatures=e.tokenSignatures,this.tokenValue=e.tokenValue}return e.prototype.signatureObject=function(){return{gen:this.tokenSignatureGenerated,sig:this.tokenSignature}},e.prototype.tokenObject=function(){return{token:this.tokenValue,touched:this.tokenDatestamp,touchedSig:this.tokenDatestampSignature,signatures:this.tokenSignatures}},e}();function getIP(e){var t=e.getHeader("x-forwarded-for")||e.getUserHostAddress();if(t.indexOf(",")>-1){var r=t.split(",");t=r[0].trim()}return t}function getLang(e){var t,r=e.getHeader("accept-language");return r&&(t=r),t}function getUserAgent(e){var t,r=e.getHeader("user-agent");return r&&(t=r),t}z.object({headers:z.object({}).catchall(z.any())}).catchall(z.any()),z.object({headers:z.object({}).catchall(z.any())}).catchall(z.any()),z.object({headers:z.object({}).catchall(z.any())}).catchall(z.any());var Timer=function(){function e(){this.timer=Date.now()}return e.prototype.elapsed=function(){return Date.now()-this.timer},e}(),Gatekeeper=function(){function e(e,t,r,o){if(this.WAIT_URL="https://wait.crowdhandler.com",this.ignore=/^((?!.*\?).*(\.(avi|css|eot|gif|ico|jpg|jpeg|js|json|mov|mp4|mpeg|mpg|og[g|v]|pdf|png|svg|ttf|txt|wmv|woff|woff2|xml))$)/,this.options={debug:!1,fallbackSlug:"",mode:"full",timeout:5e3,trustOnFail:!0,waitingRoom:!1},this.cookies=[],this.simpleSignature=[],this.complexSignature=[],this.specialParameters={chCode:"",chID:"",chIDSignature:"",chPublicKey:"",chRequested:""},this.PublicClient=e,this.REQUEST=t,this.publicKey=r.publicKey,this.privateKey=r.privateKey,this.options=Object.assign({},this.options,o),this.STORAGE_NAME=this.options.cookieName||"crowdhandler","hybrid"===this.options.mode&&(void 0===this.privateKey||""===this.privateKey))throw new Error("privateKey must be provided when mode is set to 'hybrid'");if("hybrid"===this.options.mode&&void 0!==this.privateKey)try{this.hashedPrivateKey=generateSignature(this.privateKey)}catch(e){logger(this.options.debug,"Error generating private key hash: ",e)}this.host=this.REQUEST.getHost(),this.path=this.REQUEST.getPath(),"full"!==this.options.mode&&"hybrid"!==this.options.mode||(this.ip=getIP(this.REQUEST),this.lang=getLang(this.REQUEST),this.agent=getUserAgent(this.REQUEST)),this.timer=new Timer,this.options.waitingRoom&&this.extractSlugFromPath()}return e.prototype.overrideHost=function(e){this.host=e},e.prototype.overridePath=function(e){this.path=e},e.prototype.overrideIP=function(e){this.ip=e},e.prototype.overrideLang=function(e){this.lang=e},e.prototype.overrideUserAgent=function(e){this.agent=e},e.prototype.overrideCookie=function(e){this.cookies=e},e.prototype.overrideWaitingRoomUrl=function(e){this.WAIT_URL=e},e.prototype.setIgnoreUrls=function(e){this.ignore=e},e.prototype.getConfig=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,r;return __generator(this,(function(o){switch(o.label){case 0:return[4,this.PublicClient.rooms().get()];case 1:return e=o.sent(),t=new ConfigParse(e.result,this.host,this.path,this.ignore),r=t.parse(),this.activeConfig=RoomMetaObject.parse(r),[2]}}))}))},e.prototype.getSessionStatus=function(){return __awaiter(this,void 0,void 0,(function(){var e,t,r,o,i,s;return __generator(this,(function(n){switch(n.label){case 0:if(e={},this.agent&&(e.agent=this.agent),this.ip&&(e.ip=this.ip),this.lang&&(e.lang=this.lang),this.slug?(e.slug=this.slug,logger(this.options.debug,"info","Using slug in request: ".concat(this.slug))):(t="https://".concat(this.host).concat(this.path),e.url=t,logger(this.options.debug,"info","Using URL in request: ".concat(t))),!this.token)return[3,5];logger(this.options.debug,"info","Token found, performing a session GET call."),n.label=1;case 1:return n.trys.push([1,3,,4]),r=this,[4,this.PublicClient.requests().get(this.token,e)];case 2:return r.sessionStatus=n.sent(),[3,4];case 3:return o=n.sent(),logger(this.options.debug,"error","Session GET call failed with error: ".concat(o)),[3,4];case 4:return[3,9];case 5:logger(this.options.debug,"info","Token not found, performing a session POST call."),n.label=6;case 6:return n.trys.push([6,8,,9]),i=this,[4,this.PublicClient.requests().post(e)];case 7:return i.sessionStatus=n.sent(),[3,9];case 8:return s=n.sent(),logger(this.options.debug,"error","Session POST call failed with error: ".concat(s)),[3,9];case 9:return[2]}}))}))},e.prototype.processURL=function(){try{var e=new ProcessURL(this.REQUEST).parseURL();if(!e)throw new Error("Failed to parse URL.");if(this.options.waitingRoom){var t=this.extractUrlFromWaitingRoomQuery();return t?(logger(this.options.debug,"info","[WaitingRoom] Using url from query parameter: ".concat(t)),this.targetURL=t,void(this.specialParameters=e.specialParameters)):(logger(this.options.debug,"info","[WaitingRoom] No url query parameter found, will use urlRedirect from API response"),this.targetURL="",void(this.specialParameters=e.specialParameters))}this.targetURL=e.targetURL,this.specialParameters=e.specialParameters}catch(e){logger(this.options.debug,"error","Error while processing URL: ".concat(e))}},e.prototype.getSignature=function(e){try{e.chIDSignature?(this.simpleSignature=[e.chIDSignature],this.signatureType="simple"):e.crowdhandlerCookieValue&&(this.cookieValue=CookieObject.parse(e.crowdhandlerCookieValue),this.complexSignature=this.cookieValue.tokens[this.cookieValue.tokens.length-1].signatures,this.signatureType="complex")}catch(e){logger(this.options.debug,"error","Failed to get signature: ".concat(e))}},e.prototype.extractToken=function(e){var t,r,o,i,s=null!==(t=null==e?void 0:e.chID)&&void 0!==t?t:this.specialParameters.chID,n=null!==(r=null==e?void 0:e.crowdhandlerCookieValue)&&void 0!==r?r:this.cookieValue;null!==(o=null==e?void 0:e.localStorageValue)&&void 0!==o||this.localStorageValue;var a=null!==(i=null==e?void 0:e.simpleCookieValue)&&void 0!==i?i:this.simpleCookieValue;s?(logger(this.options.debug,"info","chID parameter found"),this.extractTokenFromChID(s)):n&&"hybrid"===this.options.mode?(logger(this.options.debug,"info","complex cookie found"),this.extractTokenFromComplexCookie(n)):a?(logger(this.options.debug,"info","simple cookie found"),this.extractTokenFromSimpleCookie(a)):logger(this.options.debug,"info","Token not found or invalid format")},e.prototype.isValidToken=function(e){return/^tok.*/.test(e)},e.prototype.extractTokenFromChID=function(e){if(!this.isValidToken(e))throw new Error("Invalid token format: ".concat(e));this.token=e},e.prototype.extractTokenFromComplexCookie=function(e){try{if(this.cookieValue=CookieObject.parse(e),0===this.cookieValue.tokens.length)throw new Error("No tokens found in the cookie value.");var t=this.cookieValue.tokens[this.cookieValue.tokens.length-1].token;if(!this.isValidToken(t))throw new Error("Invalid token format: ".concat(t));this.token=t}catch(e){logger(this.options.debug,"error","Failed to extract token from complex cookie: ".concat(e))}},e.prototype.extractTokenFromSimpleCookie=function(e){try{if(!this.isValidToken(e))throw new Error("Invalid token format: ".concat(e));this.token=e}catch(e){logger(this.options.debug,"error","Failed to extract token from simple cookie: ".concat(e))}},e.prototype.extractSlugFromPath=function(){try{var e=this.path.split("?")[0],t=(e.startsWith("/")?e.slice(1):e).split("/").filter((function(e){return e.length>0}));if(0===t.length)return void logger(this.options.debug,"info","[WaitingRoom] No path segments found for slug extraction");var r=0;if("ch"===t[0]&&(r=1,t.length<=1))return void logger(this.options.debug,"info","[WaitingRoom] Path starts with /ch/ but no slug segment found");this.slug=t[r],logger(this.options.debug,"info","[WaitingRoom] Extracted slug from path: ".concat(this.slug))}catch(e){logger(this.options.debug,"error","[WaitingRoom] Failed to extract slug from path: ".concat(e))}},e.prototype.extractUrlFromWaitingRoomQuery=function(){try{var e=this.REQUEST.getPath();if(!e||!e.includes("?"))return"";var t=e.split("?")[1];if(!t)return"";var r=t.match(/(?:^|&)url=([^&]*)/);if(r&&r[1]){var o=r[1];return logger(this.options.debug,"info","[WaitingRoom] Found url parameter (encoded): ".concat(o)),o}return""}catch(e){return logger(this.options.debug,"error","[WaitingRoom] Failed to extract url from query: ".concat(e)),""}},e.prototype.getTokenFromLocalStorage=function(){try{if(!this.storageKey)throw new Error("Storage key is not defined.");if(!this.localStorageValue||!this.localStorageValue.token)throw new Error("Local storage value is not defined or does not contain a token.");var e=this.localStorageValue.token[this.storageKey];if(!this.isValidToken(e))throw new Error("Invalid token format: ".concat(e));this.token=e}catch(e){logger(this.options.debug,"error","Failed to get token from local storage: ".concat(e))}},e.prototype.validateSignature=function(){return new Signature(this.activeConfig,this.hashedPrivateKey,this.signatureType,this.simpleSignature,this.complexSignature,this.token,this.cookieValue,this.requested,this.specialParameters,this.options.debug).validateSignature()},e.prototype.redirectIfNotPromoted=function(){try{var e=this.getRedirectUrl();if(!e)throw new Error("Unable to determine redirect URL");return this.REQUEST.redirect(e)}catch(e){return logger(this.options.debug,"error","Failed to redirect: ".concat(e)),"Redirect failed: ".concat(e.message)}},e.prototype.redirectIfPromoted=function(){var e,t,r,o,i,s;try{var n=this.targetURL;if(!n&&(null===(t=null===(e=this.sessionStatus)||void 0===e?void 0:e.result)||void 0===t?void 0:t.urlRedirect)&&(n=encodeURIComponent(this.sessionStatus.result.urlRedirect),logger(this.options.debug,"info","[WaitingRoom] Using urlRedirect from API: ".concat(this.sessionStatus.result.urlRedirect))),!n)throw new Error("Unable to determine destination URL for promoted redirect");var a=decodeURIComponent(n).split("?"),u=a[0],d=a[1]||"",c=[];if(d)for(var l=d.split("&"),p=0,h=l;p<h.length;p++){var f=h[p],g=f.split("=")[0];["ch-id","ch-id-signature","ch-requested","ch-code","ch-fresh"].includes(g)||c.push(f)}var m=["ch-id=".concat(encodeURIComponent(this.token||"")),"ch-id-signature=".concat(encodeURIComponent((null===(o=null===(r=this.sessionStatus)||void 0===r?void 0:r.result)||void 0===o?void 0:o.hash)||"")),"ch-requested=".concat(encodeURIComponent((null===(s=null===(i=this.sessionStatus)||void 0===i?void 0:i.result)||void 0===s?void 0:s.requested)||this.requested||this.specialParameters.chRequested||"")),"ch-code=".concat(encodeURIComponent(this.specialParameters.chCode||"")),"ch-fresh=true"],y=c.concat(m),v=u+(y.length>0?"?"+y.join("&"):"");return logger(this.options.debug,"info","[WaitingRoom] Redirecting promoted user to: ".concat(v)),this.REQUEST.redirect(v)}catch(e){return logger(this.options.debug,"error","Failed to redirect promoted user: ".concat(e)),"Redirect failed: ".concat(e.message)}},e.prototype.redirectToCleanUrl=function(e){try{var t=decodeURIComponent(e);if(!/^http[s]?:\/\/.*/.test(t))throw new Error("Decoded URL is not a valid URL");this.REQUEST.redirect(t)}catch(e){throw logger(this.options.debug,"error","Failed to redirect to clean URL: ".concat(e)),e}},e.prototype.getRedirectUrl=function(){var e,t,r;try{var o=(null===(t=null===(e=this.sessionStatus)||void 0===e?void 0:e.result)||void 0===t?void 0:t.slug)||(null===(r=this.activeConfig)||void 0===r?void 0:r.slug)||this.options.fallbackSlug||"";logger(this.options.debug,"info","Generating redirect URL with slug: ".concat(o)),logger(this.options.debug,"info","Target URL: ".concat(this.targetURL)),logger(this.options.debug,"info","Token: ".concat(this.token)),logger(this.options.debug,"info","Public Key: ".concat(this.publicKey));var i="".concat(this.WAIT_URL,"/").concat(o,"?url=").concat(this.targetURL,"&ch-code=&ch-id=").concat(this.token,"&ch-public-key=").concat(this.publicKey);return logger(this.options.debug,"info","Generated redirect URL: ".concat(i)),i}catch(e){throw logger(this.options.debug,"error","Failed to generate redirect URL: ".concat(e)),e}},e.prototype.generateCookieObjects=function(){try{var e,t=(new Date).getTime();e=this.requested||this.specialParameters.chRequested;var r=new GenerateCookieObject({tokenDatestamp:t,tokenDatestampSignature:generateSignature("".concat(this.hashedPrivateKey).concat(t)),tokenSignature:this.simpleSignature[0],tokenSignatureGenerated:e,tokenSignatures:this.complexSignature,tokenValue:this.token});this.cookieSignatureObject=r.signatureObject(),this.cookieTokenObject=r.tokenObject()}catch(e){throw logger(this.options.debug,"error","Failed to generate cookie objects: ".concat(e)),e}},e.prototype.updateLocalStorageToken=function(e){var t;try{this.localStorageValue&&this.storageKey?this.localStorageValue.token[this.storageKey]=e:this.storageKey&&(this.localStorageValue={countdown:{},positions:{},token:(t={},t[this.storageKey]=e,t)})}catch(e){logger(this.options.debug,"error","Failed to update local storage token: ".concat(e))}},e.prototype.getCookie=function(){try{var e=0===this.cookies.length?this.REQUEST.getCookies():this.cookies;if(!e)return void logger(this.options.debug,"info","No cookies found.");for(var t=e.split(";"),r=0,o=t;r<o.length;r++){var i=o[r].trim().split("="),s=i[0],n=i.slice(1).join("=");if(s===this.STORAGE_NAME)if("hybrid"===this.options.mode){var a=decodeURIComponent(n),u=JSON.parse(a);this.cookieValue=u}else this.simpleCookieValue=n}}catch(e){logger(this.options.debug,"error","Failed to get or process cookies: ".concat(e))}},e.prototype.generateCookie=function(e,t){return{integration:"JSDK",tokens:e,deployment:t||""}},e.prototype.setCookie=function(e){try{return this.REQUEST.setCookie(e,this.STORAGE_NAME),!0}catch(e){return logger(this.options.debug,"error",e),!1}},e.prototype.setLocalStorage=function(e){try{var t=(null==e?void 0:e.storageName)||this.STORAGE_NAME,r=(null==e?void 0:e.localStorageValue)||JSON.stringify(this.localStorageValue);return this.REQUEST.setLocalStorageItem(t,r),!0}catch(e){return logger(this.options.debug,"error",e),!1}},e.prototype.getLocalStorage=function(){try{var e=localStorage.getItem(this.STORAGE_NAME);if(e){var t=LocalStorageObject.parse(JSON.parse(e));return this.localStorageValue=t,t}return logger(this.options.debug,"Info: No data found in local storage for key:",this.STORAGE_NAME),null}catch(e){return logger(this.options.debug,"Error reading from local storage:",e),null}},e.prototype.recordPerformance=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r,o,i,s,n,a,u;return __generator(this,(function(d){try{if(t=e?RecordPerformanceOptions.parse(e):{statusCode:200,sample:.2,overrideElapsed:void 0,responseID:void 0},r=t.statusCode,o=t.sample,i=t.overrideElapsed,s=t.responseID,n=Math.random(),!(a=s||this.responseID)||n>=o)return[2];u=void 0!==i?i:this.timer.elapsed(),this.PublicClient.responses().put(a,{httpCode:r,time:u})}catch(e){logger(this.options.debug,"Error recording performance:",e)}return[2]}))}))},e.prototype.tokenCreationDate=function(e){var t="0123456789ABCDEFGHIJKLMNPQRSTUVWXYZabcdefghijklmnpqrstuvwxyz",r=e.slice(4,10),o=t.indexOf(r[0]),i=t.indexOf(r[1])-1,s=t.indexOf(r[2]),n=t.indexOf(r[3]),a=t.indexOf(r[4]),u=t.indexOf(r[5]);return Date.UTC(2e3+o,i,s,n,a,u)},e.prototype.isOldToken=function(e){if(logger(this.options.debug,"info","[Lite Validator] Checking token age for: ".concat(e)),!e||!e.startsWith("tok"))return logger(this.options.debug,"info","[Lite Validator] Token not in a format that we can timestamp."),!1;if(!e.startsWith("tok0"))return logger(this.options.debug,"info","[Lite Validator] Token format '".concat(e.substring(0,4),"' not supported for age checking")),!1;var t=(new Date).getTime(),r=this.tokenCreationDate(e),o=new Date(r),i=(t-r)/36e5;return logger(this.options.debug,"info","[Lite Validator] Token created: ".concat(o.toISOString(),", Age: ").concat(i.toFixed(2)," hours")),i>12?(logger(this.options.debug,"info","[Lite Validator] Token is older than 12 hours - will trigger redirect"),!0):(logger(this.options.debug,"info","[Lite Validator] Token is fresh (< 12 hours old)"),!1)},e.prototype.matchRoomConfig=function(){var e=this,t={domain:null,patternType:null,queueActivatesOn:null,slug:null,status:!1,timeout:null};if(!this.options.roomsConfig||0===this.options.roomsConfig.length)return logger(this.options.debug,"info","[Lite Validator] No rooms config provided or empty array"),t;var r=this.host,o=this.path,i="https://".concat(r);logger(this.options.debug,"info","[Lite Validator] Checking rooms for domain: ".concat(i,", path: ").concat(o)),logger(this.options.debug,"info","[Lite Validator] Total rooms in config: ".concat(this.options.roomsConfig.length));var s=this.options.roomsConfig.filter((function(t){var r=t.domain===i;return r&&logger(e.options.debug,"info","[Lite Validator] Domain match found: ".concat(t.slug)),r}));logger(this.options.debug,"info","[Lite Validator] Rooms matching domain: ".concat(s.length));for(var n=0,a=s;n<a.length;n++){var u=a[n];if(logger(this.options.debug,"info","[Lite Validator] Testing room '".concat(u.slug,"' with pattern '").concat(u.urlPattern,"' (type: ").concat(u.patternType,")")),!0===this.patternCheck(u,o)){logger(this.options.debug,"info","[Lite Validator] MATCH FOUND: Room '".concat(u.slug,"' matches current path")),t.domain=u.domain,t.patternType=u.patternType,t.queueActivatesOn=u.queueActivatesOn,t.slug=u.slug,t.status=!0,t.timeout=u.timeout;break}}return t.status||logger(this.options.debug,"info","[Lite Validator] No matching room found for current path"),t},e.prototype.patternCheck=function(e,t){switch(e.patternType){case"regex":return!!e.urlPattern&&new RegExp(e.urlPattern).test(t);case"contains":return!!e.urlPattern&&t.includes(e.urlPattern);case"all":return!0;default:return!1}},e.prototype.shouldRedirectToLiteValidator=function(){if(logger(this.options.debug,"info","[Lite Validator] === Starting lite validator check ==="),logger(this.options.debug,"info","[Lite Validator] Lite validator enabled: ".concat(this.options.liteValidator)),logger(this.options.debug,"info","[Lite Validator] Rooms config provided: ".concat(!!this.options.roomsConfig)),logger(this.options.debug,"info","[Lite Validator] Current token: ".concat(this.token||"NO TOKEN")),!this.options.liteValidator||!this.options.roomsConfig)return logger(this.options.debug,"info","[Lite Validator] Lite validator disabled or no rooms config - skipping"),{redirect:!1};var e=this.matchRoomConfig();if(!e.status)return logger(this.options.debug,"info","[Lite Validator] No room match - skipping lite validator"),{redirect:!1};logger(this.options.debug,"info","[Lite Validator] Room matched: ".concat(e.slug||"match found"));var t=!this.token,r=!!this.token&&this.isOldToken(this.token);if(logger(this.options.debug,"info","[Lite Validator] Token missing: ".concat(t,", Token old: ").concat(r)),t||r){var o=this.buildLiteValidatorUrl();return logger(this.options.debug,"info","[Lite Validator] REDIRECT REQUIRED to: ".concat(o)),{redirect:!0,url:o}}return logger(this.options.debug,"info","[Lite Validator] Token is valid - no redirect needed"),{redirect:!1}},e.prototype.buildLiteValidatorUrl=function(){var e=this.PublicClient.apiUrl||"https://api.crowdhandler.com",t="".concat(e,"/v1/redirect/requests"),r=this.targetURL||"",o=this.specialParameters.chCode||"",i="ch-public-key=".concat(this.publicKey,"&url=").concat(r,"&ch-code=").concat(o);return this.token?"".concat(t,"/").concat(this.token,"?").concat(i):"".concat(t,"?").concat(i)},e.prototype.validateRequest=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:switch(this.options.mode){case"hybrid":return[3,1];case"full":return[3,3];case"clientside":return[3,5]}return[3,7];case 1:return[4,this.validateRequestHybridMode()];case 2:case 4:case 6:return[2,e.sent()];case 3:return[4,this.validateRequestFullMode()];case 5:return[4,this.validateRequestClientSideMode()];case 7:return[3,8];case 8:return[2]}}))}))},e.prototype.validateRequestClientSideMode=function(){var e;return __awaiter(this,void 0,void 0,(function(){var t,r,o,i,s,n,a,u,d,c,l;return __generator(this,(function(p){switch(p.label){case 0:t={promoted:!1,stripParams:!1,setCookie:!1,setLocalStorage:!1,cookieValue:"",responseID:"",slug:"",targetURL:"",deployment:"",hash:null,token:"",requested:""},p.label=1;case 1:return p.trys.push([1,3,,4]),logger(this.options.debug,"info","IP: ".concat(this.ip)),logger(this.options.debug,"info","Agent: ".concat(this.agent)),logger(this.options.debug,"info","Host: ".concat(this.host)),logger(this.options.debug,"info","Path: ".concat(this.path)),logger(this.options.debug,"info","Lang: ".concat(this.lang)),ignoredPatternsCheck(this.path,this.ignore)?(logger(this.options.debug,"info","Ignored path: ".concat(this.path)),t.promoted=!0,[2,t]):(this.processURL(),t.targetURL=this.targetURL||"",this.getCookie(),this.extractToken(),logger(this.options.debug,"info","[Lite Validator] Performing lite validator check in validateRequestClientSideMode"),(r=this.shouldRedirectToLiteValidator()).redirect?(logger(this.options.debug,"info","[Lite Validator] Lite validator redirect triggered in clientside mode"),t.liteValidatorRedirect=!0,t.liteValidatorUrl=r.url,t.promoted=!1,[2,t]):(logger(this.options.debug,"info","[Lite Validator] Continuing with normal validation"),[4,this.getSessionStatus()]));case 2:return p.sent(),HttpErrorWrapper.safeParse(this.sessionStatus).success&&200!==(null===(e=this.sessionStatus)||void 0===e?void 0:e.result.status)?(t.promoted=this.options.trustOnFail,this.options.trustOnFail||(t.slug=this.options.fallbackSlug),[2,t]):(this.sessionStatus&&(o=this.sessionStatus.result,i=o.promoted,s=o.slug,n=o.token,a=o.responseID,u=o.deployment,d=o.hash,c=o.requested,t.promoted=1===i,t.slug=s||t.slug,this.token=n||this.token,t.token=n||t.token,t.deployment=u||t.deployment,t.hash=d||null,t.requested=c||t.requested,n&&(t.setCookie=!0,t.cookieValue=n),1===i&&(t.responseID=a||t.responseID,this.responseID=a||"",this.specialParameters.chRequested&&(t.stripParams=!0))),[2,t]);case 3:throw l=p.sent(),logger(this.options.debug,"error","An error occurred during request validation: ".concat(l)),l;case 4:return[2]}}))}))},e.prototype.validateRequestFullMode=function(){var e;return __awaiter(this,void 0,void 0,(function(){var t,r,o,i,s,n,a,u,d,c,l;return __generator(this,(function(p){switch(p.label){case 0:t={promoted:!1,stripParams:!1,setCookie:!1,setLocalStorage:!1,cookieValue:"",responseID:"",slug:"",targetURL:"",deployment:"",hash:null,token:"",requested:""},p.label=1;case 1:return p.trys.push([1,3,,4]),logger(this.options.debug,"info","IP: ".concat(this.ip)),logger(this.options.debug,"info","Agent: ".concat(this.agent)),logger(this.options.debug,"info","Host: ".concat(this.host)),logger(this.options.debug,"info","Path: ".concat(this.path)),logger(this.options.debug,"info","Lang: ".concat(this.lang)),ignoredPatternsCheck(this.path,this.ignore)?(logger(this.options.debug,"info","Ignored path: ".concat(this.path)),t.promoted=!0,[2,t]):(this.processURL(),t.targetURL=this.targetURL,this.getCookie(),this.extractToken(),logger(this.options.debug,"info","[Lite Validator] Performing lite validator check in validateRequestClientSideMode"),(r=this.shouldRedirectToLiteValidator()).redirect?(logger(this.options.debug,"info","[Lite Validator] Lite validator redirect triggered in clientside mode"),t.liteValidatorRedirect=!0,t.liteValidatorUrl=r.url,t.promoted=!1,[2,t]):(logger(this.options.debug,"info","[Lite Validator] Continuing with normal validation"),[4,this.getSessionStatus()]));case 2:return p.sent(),HttpErrorWrapper.safeParse(this.sessionStatus).success&&200!==(null===(e=this.sessionStatus)||void 0===e?void 0:e.result.status)?(t.promoted=this.options.trustOnFail,this.options.trustOnFail||(t.slug=this.options.fallbackSlug),[2,t]):(this.sessionStatus&&(o=this.sessionStatus.result,i=o.promoted,s=o.slug,n=o.token,a=o.responseID,u=o.deployment,d=o.hash,c=o.requested,t.promoted=1===i,t.slug=s||t.slug,this.token=n||this.token,t.token=n||t.token,t.deployment=u||t.deployment,t.hash=d||null,t.requested=c||t.requested,n&&(t.setCookie=!0,t.cookieValue=n),1===i&&(t.responseID=a||t.responseID,this.responseID=a||"",this.specialParameters.chRequested&&(t.stripParams=!0))),[2,t]);case 3:throw l=p.sent(),logger(this.options.debug,"error","An error occurred during request validation: ".concat(l)),l;case 4:return[2]}}))}))},e.prototype.validateRequestHybridMode=function(){var e,t;return __awaiter(this,void 0,void 0,(function(){var r,o,i,s,n,a,u,d,c,l,p,h,f,g,m,y=this;return __generator(this,(function(v){switch(v.label){case 0:return r=[],o=[],n={promoted:!1,stripParams:!1,setCookie:!1,setLocalStorage:!1,cookieValue:"",responseID:"",slug:"",targetURL:"",deployment:"",hash:null,token:"",requested:""},logger(this.options.debug,"info","IP: "+this.ip),logger(this.options.debug,"info","Agent: "+this.agent),logger(this.options.debug,"info","Host: "+this.host),logger(this.options.debug,"info","Path: "+this.path),logger(this.options.debug,"info","Lang: "+this.lang),ignoredPatternsCheck(this.path,this.ignore)?(logger(this.options.debug,"info","Ignored path: "+this.path),n.promoted=!0,[2,n]):(this.processURL(),n.targetURL=this.targetURL,this.getCookie(),this.extractToken(),(a=this.shouldRedirectToLiteValidator()).redirect?(n.liteValidatorRedirect=!0,n.liteValidatorUrl=a.url,n.promoted=!1,[2,n]):[4,this.getConfig()]);case 1:if(v.sent(),HttpErrorWrapper.safeParse(this.activeConfig).success&&this.activeConfig&&200!==this.activeConfig.result.status)return this.options.trustOnFail?n.promoted=!0:(n.promoted=!1,n.slug=this.options.fallbackSlug),[2,n];if(!1===this.activeConfig.status)return logger(this.options.debug,"info","Config succesfully fetched but no check required."),n.promoted=!0,[2,n];if(this.getCookie(),logger(this.options.debug,"info","Cookie: "+this.cookieValue),this.cookieValue&&this.cookieValue.deployment&&(n.deployment=this.cookieValue.deployment),this.getSignature({chIDSignature:this.specialParameters.chIDSignature,crowdhandlerCookieValue:this.cookieValue}),this.extractToken(),logger(this.options.debug,"info","Signature: "+this.simpleSignature),logger(this.options.debug,"info","Complex Signature: "+this.complexSignature),logger(this.options.debug,"info","Token: "+this.token),0!==this.simpleSignature.length&&0!==this.complexSignature.length||this.token)return[3,5];logger(this.options.debug,"info","Missing signature and/or token, doing a check."),v.label=2;case 2:return v.trys.push([2,4,,5]),[4,this.getSessionStatus()];case 3:return v.sent(),HttpErrorWrapper.safeParse(this.sessionStatus).success&&this.sessionStatus&&200!==this.sessionStatus.result.status?(this.options.trustOnFail?n.promoted=!0:(n.promoted=!1,n.slug=this.options.fallbackSlug),[2,n]):(c=void 0,this.sessionStatus&&0===this.sessionStatus.result.promoted?(this.sessionStatus.result.token&&(c=this.sessionStatus.result.token,n.token=c,this.extractToken({chID:c})),n.promoted=!1,[2,n]):(this.sessionStatus&&1===this.sessionStatus.result.promoted&&(n.promoted=!0,n.setCookie=!0,d=void 0,this.sessionStatus.result.requested&&(this.requested=this.sessionStatus.result.requested),this.sessionStatus.result.deployment&&(this.deployment=this.sessionStatus.result.deployment,n.deployment=this.deployment),this.sessionStatus.result.hash&&(d=this.sessionStatus.result.hash,n.hash=d,this.getSignature({chIDSignature:d})),this.sessionStatus.result.token&&(c=this.sessionStatus.result.token,n.token=c,this.extractToken({chID:c}))),[3,5]));case 4:return u=v.sent(),logger(this.options.debug,"error",u),[3,5];case 5:if(logger(this.options.debug,"info","Signature and token found. Validating..."),!1!==this.validateSignature().success)return[3,9];logger(this.options.debug,"info","Signature not valid. Checking against API."),v.label=6;case 6:return v.trys.push([6,8,,9]),[4,this.getSessionStatus()];case 7:return v.sent(),HttpErrorWrapper.safeParse(this.sessionStatus).success&&this.sessionStatus&&200!==this.sessionStatus.result.status?(this.options.trustOnFail?n.promoted=!0:(n.promoted=!1,n.slug=this.options.fallbackSlug),[2,n]):this.sessionStatus&&0===this.sessionStatus.result.promoted?(n.promoted=!1,[2,n]):(this.sessionStatus&&1===this.sessionStatus.result.promoted&&(d=void 0,c=void 0,this.sessionStatus.result.requested&&(this.requested=this.sessionStatus.result.requested),this.sessionStatus.result.deployment&&(this.deployment=this.sessionStatus.result.deployment,n.deployment=this.deployment),this.sessionStatus.result.hash&&(d=this.sessionStatus.result.hash,n.hash=d,this.getSignature({chIDSignature:d})),this.sessionStatus.result.token&&(c=this.sessionStatus.result.token,n.token=c,this.extractToken({chID:c}))),[3,9]);case 8:return l=v.sent(),logger(this.options.debug,"error",l),[3,9];case 9:logger(this.options.debug,"info","Signature is valid.");try{if(this.cookieValue&&(this.cookieValue=CookieObject.parse(this.cookieValue),this.cookieValue))for(p=0,h=this.cookieValue.tokens;p<h.length;p++)m=h[p],o.push(m)}catch(e){logger(this.options.debug,"error",e)}if(Array.isArray(o)&&0===o.length||Array.isArray(o)&&o[o.length-1].token!==this.token)i=!0;else for(i=!1,f=0,g=o[o.length-1].signatures;f<g.length;f++)m=g[f],r.push(m);this.generateCookieObjects(),"simple"===this.signatureType&&!1===r.some((function(e){return e.sig===y.simpleSignature}))&&(r.push(this.cookieSignatureObject),s=!0),i?(o=[],this.cookieTokenObject&&(this.cookieTokenObject.signatures=r),o.push(this.cookieTokenObject)):(o[o.length-1].signatures=r,o[o.length-1].touched=null===(e=this.cookieTokenObject)||void 0===e?void 0:e.touched,o[o.length-1].touchedSig=null===(t=this.cookieTokenObject)||void 0===t?void 0:t.touchedSig);try{this.cookieValue=this.generateCookie(o,this.deployment)}catch(e){logger(this.options.debug,"error",e)}return n.cookieValue=JSON.stringify(this.cookieValue),s&&this.specialParameters.chRequested&&(n.stripParams=!0),n.promoted=!0,n.setCookie=!0,n.token=this.token,[2,n]}}))}))},e}();function init(e){var t,r,o,i,s,n,a,u;if(!e.publicKey)throw new CrowdHandlerError(ErrorCodes.INVALID_CONFIG,"publicKey is required",'Provide your public key from the CrowdHandler dashboard: crowdhandler.init({ publicKey: "YOUR_KEY" })');var d,c=new Client({publicKey:e.publicKey,privateKey:e.privateKey,options:e.options});if(!(!(e.request&&e.response||e.lambdaEdgeEvent)&&(e.request||e.response||e.lambdaEdgeEvent))){var l=void 0;l=e.lambdaEdgeEvent?new RequestContext({lambdaEvent:e.lambdaEdgeEvent}):e.request&&e.response?new RequestContext({request:e.request,response:e.response}):new RequestContext({});var p={mode:detectMode(e),debug:null===(t=e.options)||void 0===t?void 0:t.debug,timeout:null===(r=e.options)||void 0===r?void 0:r.timeout,trustOnFail:null===(o=e.options)||void 0===o?void 0:o.trustOnFail,fallbackSlug:null===(i=e.options)||void 0===i?void 0:i.fallbackSlug,cookieName:null===(s=e.options)||void 0===s?void 0:s.cookieName,liteValidator:null===(n=e.options)||void 0===n?void 0:n.liteValidator,roomsConfig:null===(a=e.options)||void 0===a?void 0:a.roomsConfig,waitingRoom:null===(u=e.options)||void 0===u?void 0:u.waitingRoom};d=new Gatekeeper(c.getPublicClient(),l,{publicKey:e.publicKey,privateKey:e.privateKey},p)}return{client:c,gatekeeper:d}}function detectMode(e){var t;if((null===(t=e.options)||void 0===t?void 0:t.mode)&&"auto"!==e.options.mode){if("hybrid"===e.options.mode&&!e.privateKey)throw new CrowdHandlerError(ErrorCodes.INVALID_MODE,"Hybrid mode requires a privateKey",'Either provide a privateKey or use "full" mode');return e.options.mode}return"clientside"}var CROWDHANDLER_ERRORS={INVALID_CONFIG:"INVALID_CONFIG",INVALID_MODE:"INVALID_MODE",INVALID_CONTEXT:"INVALID_CONTEXT",MISSING_PRIVATE_KEY:"MISSING_PRIVATE_KEY",API_CONNECTION_FAILED:"API_CONNECTION_FAILED",API_TIMEOUT:"API_TIMEOUT",API_INVALID_RESPONSE:"API_INVALID_RESPONSE",INVALID_API_KEY:"INVALID_API_KEY",RATE_LIMITED:"RATE_LIMITED",RESOURCE_NOT_FOUND:"RESOURCE_NOT_FOUND",DOMAIN_NOT_FOUND:"DOMAIN_NOT_FOUND",ROOM_NOT_FOUND:"ROOM_NOT_FOUND",SESSION_NOT_FOUND:"SESSION_NOT_FOUND",UNKNOWN_ERROR:"UNKNOWN_ERROR"};exports.CROWDHANDLER_ERRORS=CROWDHANDLER_ERRORS,exports.Client=Client,exports.CrowdHandlerError=CrowdHandlerError,exports.ErrorCodes=ErrorCodes,exports.Modes=Modes,exports.init=init,Object.defineProperty(exports,"__esModule",{value:!0})}));
//# sourceMappingURL=crowdhandler.umd.min.js.map
